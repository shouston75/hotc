<?php
/*--------------------------------------------------*/
/* FILE GENERATED BY INVISION POWER BOARD 3         */
/* CACHE FILE: Skin set id: 14               */
/* CACHE FILE: Generated: Sun, 09 Dec 2012 17:06:45 GMT */
/* DO NOT EDIT DIRECTLY - THE CHANGES WILL NOT BE   */
/* WRITTEN TO THE DATABASE AUTOMATICALLY            */
/*--------------------------------------------------*/

class skin_boards_14 extends skinMaster{

/**
* Construct
*/
function __construct( ipsRegistry $registry )
{
	parent::__construct( $registry );
	

$this->_funcHooks = array();
$this->_funcHooks['boardIndexTemplate'] = array('side_blocks','showSubForumsLit','subforums','unreadicon','showSubForums','hasQueuedAndCanSeeIcon','hideDateUrl','lastPosterID','lastPosterName','hideLastInfo','forumRedirect','forums','cat_has_forums','categories','sidebaropen','sidebarclosed','sideBarEnabled','sidebarclosed2','sideBarEnabled2','nosidebar','latestNews','cats_forums','showTotals','activeNames','showActive','calendarEventsInner','calendarEventsOuter','showBirthdaysAlways','birthdays','autodst');
$this->_funcHooks['hookFacebookActivity'] = array('fbAppIdPresent');
$this->_funcHooks['hookRecentTopics'] = array('topics_hook','recenttopics');
$this->_funcHooks['hookTagCloud'] = array('eachTag');
$this->_funcHooks['statusReplies'] = array('canDelete','isFirstCycle','innerLoop');
$this->_funcHooks['statusUpdates'] = array('canDelete','isLocked','canLock','noLocked','cImg','hasRepliesMain','hasRepliesButCannotReply','canReplyMain','hasMore','hasReplies','canReply','outerLoop');


}

/* -- boardIndexTemplate --*/
function boardIndexTemplate($lastvisit="", $stats=array(), $calendar_events=FALSE, $birthdays=FALSE, $chat_html='', $news_data=array(), $cat_data=array(), $show_side_blocks=true, $side_blocks=array()) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_boards', $this->_funcHooks['boardIndexTemplate'] ) )
{
$count_6c387717aa8cc32c4654ccb1c05a8276 = is_array($this->functionData['boardIndexTemplate']) ? count($this->functionData['boardIndexTemplate']) : 0;
$this->functionData['boardIndexTemplate'][$count_6c387717aa8cc32c4654ccb1c05a8276]['lastvisit'] = $lastvisit;
$this->functionData['boardIndexTemplate'][$count_6c387717aa8cc32c4654ccb1c05a8276]['stats'] = $stats;
$this->functionData['boardIndexTemplate'][$count_6c387717aa8cc32c4654ccb1c05a8276]['calendar_events'] = $calendar_events;
$this->functionData['boardIndexTemplate'][$count_6c387717aa8cc32c4654ccb1c05a8276]['birthdays'] = $birthdays;
$this->functionData['boardIndexTemplate'][$count_6c387717aa8cc32c4654ccb1c05a8276]['chat_html'] = $chat_html;
$this->functionData['boardIndexTemplate'][$count_6c387717aa8cc32c4654ccb1c05a8276]['news_data'] = $news_data;
$this->functionData['boardIndexTemplate'][$count_6c387717aa8cc32c4654ccb1c05a8276]['cat_data'] = $cat_data;
$this->functionData['boardIndexTemplate'][$count_6c387717aa8cc32c4654ccb1c05a8276]['show_side_blocks'] = $show_side_blocks;
$this->functionData['boardIndexTemplate'][$count_6c387717aa8cc32c4654ccb1c05a8276]['side_blocks'] = $side_blocks;
}

$this->templateVars['sidebar_enabled'] = "$show_side_blocks";
$this->__default__templateVars['sidebar_enabled'] = "$show_side_blocks";
$IPBHTML .= "" . $this->registry->getClass('output')->addJSModule("board", "0" ) . "
" . $this->registry->getClass('output')->addJSModule("hooks", "0" ) . "<script type='text/javascript'>
//<![CDATA[
	ipb.global.boardMarkers = ({
		'f_cat_unread': \"" . $this->registry->getClass('output')->getReplacement("f_cat_read") . "\",
		'f_unread': \"" . $this->registry->getClass('output')->getReplacement("f_read") . "\",
		'f_pass_unread': \"" . $this->registry->getClass('output')->getReplacement("f_pass_read") . "\"
	});
	var markerURL = \"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&module=ajax&section=markasread&i=1", "public",'' ), "", "" ) . "\"; // Ajax URL so don't use &amp;
//]]>
</script>
" . (($this->templateVars['sidebar_enabled']) ? ("<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=extras&amp;section=toggle&amp;secure_key={$this->member->form_hash}", "public",'' ), "", "" ) . "' id='close_sidebar'  class='sidebar_toggle rounded' " . ((IPSCookie::get('hide_sidebar') != '1') ? ("style='display: none'") : ("")) . "><img src='{$this->settings['img_url']}/sidebar_close.png' alt='{$this->lang->words['sidebar_close']}' /></a>
	<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=extras&amp;section=toggle&amp;secure_key={$this->member->form_hash}", "public",'' ), "", "" ) . "' id='open_sidebar' class='sidebar_toggle rounded' " . ((IPSCookie::get('hide_sidebar') == '1') ? ("style='display: none'") : ("")) . "><img src='{$this->settings['img_url']}/sidebar_open.png' alt='{$this->lang->words['sidebar_open']}' /></a>") : ("")) . "
<h2 class='hide'>{$this->lang->words['board_index_title']}</h2>
<div id='board_index' class='clearfix'>
	" . (($this->templateVars['sidebar_enabled']) ? ("<div id='index_stats' class='right clearfix' " . ((IPSCookie::get('hide_sidebar') == '1') ? ("style='display: none'") : ("")) . ">
			".$this->__f__5bdc9cd14467aaf016d57cd792a7d48e($lastvisit,$stats,$calendar_events,$birthdays,$chat_html,$news_data,$cat_data,$show_side_blocks,$side_blocks)."		</div>") : ("")) . "
	
	<div id='categories' class='" . ((IPSCookie::get('hide_sidebar') == '1' || !$this->templateVars['sidebar_enabled']) ? ("no_sidebar") : ("")) . " clearfix'>
		" . ((is_array($news_data) AND count($news_data)) ? ("
			<div id='latest_news' class='row2'><strong>{$this->lang->words['newslink']}</strong> <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$news_data['id']}", "public",'' ), "{$news_data['seo_title']}", "showtopic" ) . "' title='{$this->lang->words['newslink']}'>{$news_data['title']}</a></div>
		") : ("")) . "
	<!-- CATS AND FORUMS -->
		" . ((is_array( $cat_data ) AND count( $cat_data )) ? ("
			".$this->__f__b7646d21a59959fb67d3313c2e254627($lastvisit,$stats,$calendar_events,$birthdays,$chat_html,$news_data,$cat_data,$show_side_blocks,$side_blocks)."		") : ("")) . "
	</div>
</div>
<ul id='stat_links' class='filter_bar rounded'>
	<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=active", "public",'' ), "", "" ) . "\" title=\"{$this->lang->words['today_active_cont']}\">{$this->lang->words['new_active_cont']}</a></li>
	<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=extras&amp;section=stats&amp;do=leaders", "public",'' ), "", "" ) . "\" title=\"{$this->lang->words['sm_forum_leaders_title']}\">{$this->lang->words['sm_forum_leaders']}</a></li>
	<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=extras&amp;section=stats", "public",'' ), "", "" ) . "\" title=\"{$this->lang->words['sm_all_posters_title']}\">{$this->lang->words['sm_today_posters']}</a></li>
	<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=list&amp;max_results=20&amp;sort_key=posts&amp;sort_order=desc&amp;filter=ALL", "public",'' ), "false", "" ) . "\" title=\"{$this->lang->words['sm_overall_posters_title']}\">{$this->lang->words['sm_overall_posters']}</a></li>
</ul>
<div id='board_statistics' class='statistics general_box clearfix'>
	" . (($this->settings['show_totals']) ? ("
		<div id='stats'>
			<h2>{$this->lang->words['board_stats']}</h2>
			<dl>
				<dt>{$this->lang->words['total_posts']}</dt>
				<dd>{$stats['info']['total_posts']}</dd>
				<dt>{$this->lang->words['total_members']}</dt>
				<dd>{$stats['info']['mem_count']}</dd>
				<dt>{$this->lang->words['newest_member']}</dt>
				<dd><a href='{$stats['info']['last_mem_link']}' title='{$this->lang->words['view_profile']}'>{$stats['info']['last_mem_name']}</a>" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'user_popup' ) ? $this->registry->getClass('output')->getTemplate('global')->user_popup($stats['info']['last_mem_id'],$stats['info']['last_mem_seo']) : '' ) . "&nbsp;</dd>
				<dt>{$this->lang->words['online_at_once']}</dt>
				<dd>{$stats['info']['most_online']}<br /><span class='extra'>{$stats['info']['most_time']}</span></dd>
			</dl>
		</div>
	") : ("")) . "
	" . (($this->settings['show_active']) ? ("<div id='active_users' class='stats_list'>
			<h2>
				{$stats['TOTAL']} {$this->lang->words['active_users_text']} <span>{$this->lang->words['active_users']}</span><br />
				<span class='desc'>" . sprintf( $this->lang->words['active_users_detail'], $stats['MEMBERS'], $stats['GUESTS'], $stats['ANON'] ) . " | {$this->lang->words['show_by']}: <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=online&amp;sort_order=desc", "public",'' ), "", "" ) . "'>{$this->lang->words['oul_click']}</a> {$this->lang->words['or']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=online&amp;sort_key=name&amp;sort_order=asc&amp;show_mem=reg", "public",'' ), "", "" ) . "'>{$this->lang->words['oul_name']}</a></span>
			</h2>
			" . ((count($stats['NAMES'])) ? ("
				<p>
					<span class='name'>" . implode( ",</span> <span class='name'>", $stats['NAMES'] ) . "</span>					
				</p>
			") : ("")) . "<!--hook.if.skin_boards.boardIndexTemplate.activeNames.post.endif-->
		</div>") : ("")) . "<!--hook.if.skin_boards.boardIndexTemplate.showActive.post.endif-->
	" . (($calendar_events) ? ("<div id='cal_events' class='stats_list'>
		<h2>{$this->lang->words['upcoming_events']}</h2>
		" . ((is_array( $calendar_events )) ? ("
			<p>
				<span class='name'>" . implode( ",</span> <span class='name'>", $calendar_events ) . "</span>
			</p>
		") : ("
			<p>{$calendar_events}</p>
		")) . "
	</div>") : ("")) . "
	
	" . (($birthdays !== FALSE AND is_array( $birthdays['users'] ) AND count( $birthdays['users'] )) ? ("
		<div id='cal_bdays' class='stats_list'>
			<h2>{$birthdays['count']} {$this->lang->words['birthdays_today']}</h2>
			<p>
				<span class='name'>" . implode( ",</span> <span class='name'>", $birthdays['users'] ) . "</span>					
			</p>
		</div>
	") : ("" . (($this->settings['show_birthdays'] AND !$this->settings['autohide_bday']) ? ("
			<div id='cal_bdays' class='stats_list'>
				<h2>0 {$this->lang->words['birthdays_today']}</h2>
				<p>{$this->lang->words['no_birth_users']}</p>
			</div>
		") : ("")) . "")) . "
	
</div>
" . (($this->memberData['members_auto_dst'] == 1 AND $this->settings['time_dst_auto_correction']) ? ("
<script type='text/javascript'>
	ipb.vars['dst_on']	= parseInt(\"{$this->memberData['dst_in_use']}\");
	
	ipb.board.checkDST();
</script>
") : ("")) . "
<script type=\"text/javascript\" src=\"mobiquo/tapatalkdetect.js\"></script>";
return $IPBHTML;
}


function __f__5bdc9cd14467aaf016d57cd792a7d48e($lastvisit="", $stats=array(), $calendar_events=FALSE, $birthdays=FALSE, $chat_html='', $news_data=array(), $cat_data=array(), $show_side_blocks=true, $side_blocks=array())
{
	$_ips___x_retval = '<!--hook.foreach.skin_boards.boardIndexTemplate.side_blocks.outer.pre-->';
	$__iteratorCount = 0;
	foreach( $side_blocks as $block )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
				{$block}
			
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__6aff39d3858ef353d64c7b0639b4eb5a($lastvisit="", $stats=array(), $calendar_events=FALSE, $birthdays=FALSE, $chat_html='', $news_data=array(), $cat_data=array(), $show_side_blocks=true, $side_blocks=array(),$_data='',$forum_id='',$forum_data='')
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $forum_data['subforums'] as $__id => $__data )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
													" . (($__data[3]) ? ("<li class='newposts'>") : ("<li>")) . "<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showforum={$__data[0]}", "public",'' ), "{$__data[2]}", "showforum" ) . "\" title='{$this->lang->words['go_to_forum']}'>{$__data[1]}</a></li>
												
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__a034b9698bc1fa7d87851e4cb731cc5e($lastvisit="", $stats=array(), $calendar_events=FALSE, $birthdays=FALSE, $chat_html='', $news_data=array(), $cat_data=array(), $show_side_blocks=true, $side_blocks=array(),$_data='')
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $_data['forum_data'] as $forum_id => $forum_data )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
								" . (($forum_data['redirect_on']) ? ("
									<tr class='" .  IPSLib::next( $this->registry->templateStriping["catTable"] ) . " redirect_forum'>
										<td class='altrow'>" . $this->registry->getClass('output')->getReplacement("f_redirect") . "</td>
										<td>
											<h4><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showforum={$forum_data['id']}", "public",'' ), "{$forum_data['name_seo']}", "showforum" ) . "\" title='{$this->lang->words['go_to_forum']}'>{$forum_data['name']}</a></h4>
											<p class='desc'>{$forum_data['description']}</p>
										</td>
										<td colspan='2'>
											{$this->lang->words['rd_hits']}: " . $this->registry->getClass('class_localization')->formatNumber( $forum_data['redirect_hits'] ) . "
										</td>
									</tr>
								") : ("<tr class='" .  IPSLib::next( $this->registry->templateStriping["catTable"] ) . "'>
										<td class='altrow'>
											" . (($forum_data['img_new_post'] != 'f_locked' && strstr( $forum_data['img_new_post'], 'unread' )) ? ("
												<a id='forum_img_{$forum_data['id']}' href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=forums&amp;section=markasread&amp;marktype=forum&amp;forumid={$forum_data['id']}&amp;returntoforumid={$this->request['f']}&amp;i=1", "public",'' ), "", "" ) . "\" title=\"{$this->lang->words['bi_markread']}\" class='forum_marker'>
													" . $this->registry->getClass('output')->getReplacement("{$forum_data['img_new_post']}") . "
												</a>
												<script type='text/javascript'>
													ipb.global.registerMarker( \"forum_img_{$forum_data['id']}\", \"{$forum_data['img_new_post']}\", markerURL + \"&forumid={$forum_data['id']}\" );
												</script>
											") : ("
												" . $this->registry->getClass('output')->getReplacement("{$forum_data['img_new_post']}") . "
											")) . "
										</td>
										<td>
											<h4><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showforum={$forum_data['id']}", "public",'' ), "{$forum_data['name_seo']}", "showforum" ) . "\" title='{$this->lang->words['go_to_forum']}'>{$forum_data['name']}</a></h4>
											<p class='desc'>{$forum_data['description']}</p>
									
											" . (($forum_data['show_subforums'] AND count( $forum_data['subforums'] ) AND $forum_data['show_subforums']) ? ("
												<h5 class='hide'>{$this->lang->words['subforums']}</h5>
												<ol class='subforums' id='subforums_{$forum_data['id']}'>
												".$this->__f__6aff39d3858ef353d64c7b0639b4eb5a($lastvisit,$stats,$calendar_events,$birthdays,$chat_html,$news_data,$cat_data,$show_side_blocks,$side_blocks,$_data,$forum_id,$forum_data)."												</ol>
											") : ("")) . "
											<!-- Skinnote: Clean up queued stuff -->
											" . ((!empty($forum_data['_has_queued_and_can_see_icon'])) ? ("
												<em class='moderated'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showforum={$forum_data['id']}&amp;modfilter=all", "public",'' ), "{$forum_data['name_seo']}", "showforum" ) . "' title='{$this->lang->words['view_unapproved']}'>" . sprintf( $this->lang->words['f_queued'], $forum_data['queued_topics'], $forum_data['queued_posts']) . "</a></em>
											") : ("")) . "
										</td>
										<td class='altrow stats'>
											<ul>
												<li>{$forum_data['topics']} {$this->lang->words['topics']}</li>
												<li>{$forum_data['posts']} {$this->lang->words['replies']}</li>
											</ul>
										</td>
										<td>
											<ul class='last_post'>
												" . (($forum_data['hide_last_info']) ? ("
													<li>{$this->lang->words['f_protected']}</li>
												") : ("" . (($forum_data['_hide_last_date']) ? ("
														<li>" . $this->registry->getClass('class_localization')->getDate($forum_data['last_post'],"LONG", 0) . "</li>
													") : ("
														<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$forum_data['last_id']}&amp;view=getlastpost", "public",'' ), "{$forum_data['seo_last_title']}", "showtopic" ) . "' title='{$this->lang->words['view_last_post']}'>" . $this->registry->getClass('output')->getReplacement("f_lastpost") . "</a> <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$forum_data['last_id']}&amp;view=getlastpost", "public",'' ), "{$forum_data['seo_last_title']}", "showtopic" ) . "' title='{$this->lang->words['view_last_post']}'>" . $this->registry->getClass('class_localization')->getDate($forum_data['last_post'],"LONG", 0) . "</a></li>
													")) . "
													<li><strong>{$this->lang->words['in']}</strong> {$forum_data['last_topic_title']}</li>
													<li>
														<strong>{$this->lang->words['by']}</strong> 
														" . ((isset($forum_data['last_poster_name']) AND $forum_data['last_poster_name']) ? ("" . (($forum_data['last_poster_id']) ? ("
																<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$forum_data['last_poster_id']}", "public",'' ), "{$forum_data['seo_last_name']}", "showuser" ) . "' title='{$this->lang->words['view_profile']}'>{$forum_data['last_poster_name']}</a>" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'user_popup' ) ? $this->registry->getClass('output')->getTemplate('global')->user_popup($forum_data['last_poster_id'], $forum_data['seo_last_name']) : '' ) . "
															") : ("
																{$this->settings['guest_name_pre']}{$forum_data['last_poster_name']}{$this->settings['guest_name_suf']}
															")) . "") : ("
															{$this->lang->words['f_none']}
														")) . "
													</li>")) . "
											</ul>
										</td>
									</tr>")) . "
							
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__b7646d21a59959fb67d3313c2e254627($lastvisit="", $stats=array(), $calendar_events=FALSE, $birthdays=FALSE, $chat_html='', $news_data=array(), $cat_data=array(), $show_side_blocks=true, $side_blocks=array())
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $cat_data as $_data )
	{
		
if ( ! isset( $this->registry->templateStriping['catTable'] ) ) {
$this->registry->templateStriping['catTable'] = array( FALSE, "row1","row2");
}

		$__iteratorCount++;
		$_ips___x_retval .= "
				" . ((is_array( $_data['forum_data'] ) AND count( $_data['forum_data'] )) ? ("
										<div class='category_block block_wrap'>
						<h3 id='category_{$_data['cat_data']['id']}' class='maintitle'><a class='toggle right' href='#' title=\"{$this->lang->words['toggle_cat']}\">{$this->lang->words['toggle_cat']}</a> <a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showforum={$_data['cat_data']['id']}", "public",'' ), "{$_data['cat_data']['name_seo']}", "showforum" ) . "\" title='{$this->lang->words['view_cat']}'>{$_data['cat_data']['name']}</a></h3>
						<table class='ipb_table' summary=\"{$this->lang->words['forums_in_cat']} '{$_data['cat_data']['name']}'\">
							<tr class='header'>
								<th scope='col' class='col_c_icon'>&nbsp;</th>
								<th scope='col' class='col_c_forum'>{$this->lang->words['cat_name']}</th>
								<th scope='col' class='col_c_stats stats'>{$this->lang->words['stats']}</th>
								<th scope='col' class='col_c_post'>{$this->lang->words['last_post_info']}</th>
							</tr>
							<!-- / CAT HEADER -->
							".$this->__f__a034b9698bc1fa7d87851e4cb731cc5e($lastvisit,$stats,$calendar_events,$birthdays,$chat_html,$news_data,$cat_data,$show_side_blocks,$side_blocks,$_data)."						</table>
					</div>
				") : ("")) . "
			
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- customSidebarBlock --*/
function customSidebarBlock( $data='') {
$IPBHTML = "";
$IPBHTML .= "<!--no data in this master skin-->";
return $IPBHTML;
}

/* -- hookblanksidebar --*/
function hookblanksidebar($data="",$title="") {
$IPBHTML = "";
$IPBHTML .= "<div class='general_box alt clearfix' id='hook_blanksidebar'>
		<h3><img src='{$this->settings['img_url']}/comment_new.png' alt='{$this->lang->words['icon']}' /> {$title}</h3>
<div class='recent_activity'>
{$data}
</div>
</div>";
return $IPBHTML;
}

/* -- hookBoardIndexStatusUpdates --*/
function hookBoardIndexStatusUpdates($updates=array()) {
$IPBHTML = "";
$IPBHTML .= "<script type='text/javascript' src=\"{$this->settings['public_dir']}js/ips.status.js\"></script>
<div class='ipsSideBlock clearfix' id='statusHook'>
	<h3>{$this->lang->words['recent_status_updates']}</h3>
	<div class='_sbcollapsable'>
		<div id=\"status_wrapper\">
			<div id=\"status_wrapper_inside\">" . ( method_exists( $this->registry->getClass('output')->getTemplate('boards'), 'statusUpdates' ) ? $this->registry->getClass('output')->getTemplate('boards')->statusUpdates($updates, 1, 1) : '' ) . "</div>
			<div class=\"status_main_content ipsType_small\" style='text-align: center'>
				<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=profile&amp;section=status&amp;type=all", "public",'' ), "true", "members_status_all" ) . "'>{$this->lang->words['viewallupdates']}</a>
			</div>
		</div>
	</div>
</div>";
return $IPBHTML;
}

/* -- hookFacebookActivity --*/
function hookFacebookActivity() {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_boards', $this->_funcHooks['hookFacebookActivity'] ) )
{
$count_8cb3915630008d09b54f808a59b5ea1d = is_array($this->functionData['hookFacebookActivity']) ? count($this->functionData['hookFacebookActivity']) : 0;
}
$IPBHTML .= "" . ((IPSLib::fbc_enabled()) ? ("
<div class='general_box clearfix'>
	<h3>{$this->lang->words['hook_facebookactivity']}</h3>
	<div  class='block_list clearfix _sbcollapsable'>
		<div><fb:activity site=\"\" width=\"270\" height=\"300\" header=\"false\" border_color=\"#FFF\" colorscheme=\"light\" /></div>
	</div>
</div><div id=\"fb-root\"></div>
<script>
  window.fbAsyncInit = function() {
    FB.init({appId: '{$this->settings['fbc_appid']}', status: true, cookie: true,
             xfbml: true});
  };
  (function() {
    var e = document.createElement('script'); e.async = true;
    e.src = document.location.protocol +
      '//connect.facebook.net/{$this->settings['fb_locale']}/all.js';
    document.getElementById('fb-root').appendChild(e);
  }());
</script>
") : ("")) . "";
return $IPBHTML;
}

/* -- hookMembersOnlineToday --*/
function hookMembersOnlineToday($mems=array(), $count=0, $state='expanded') {
$IPBHTML = "";
$IPBHTML .= "<script type='text/javascript'>
	function toggleMOT()
	{
		if ( $('mot_body').hasClassName('collapsedMOT') )
		{
			$('mot_body').removeClassName('collapsedMOT');
			new Effect.BlindDown( $( $('mot_body') ) );
			ipb.Cookie.set( 'membersOnlineToday', 0, 1 );
			$('mot_expand').hide();
			$('mot_collapse').show();
		}
		else
		{
			$('mot_body').addClassName('collapsedMOT');
			new Effect.BlindUp( $( $('mot_body') ) );
			ipb.Cookie.set( 'membersOnlineToday', 1, 1 );
			$('mot_expand').show();
			$('mot_collapse').hide();
		}
	}
</script>
<br />
<h4 class='statistics_head'>
	{$this->lang->words['hookLangOnlineToday']} {$count}
	" . (($this->settings['expcol_mot']) ? ("&nbsp;<span id='mot_expand' style='display: " . (($state == 'collapsed') ? ("inline") : ("none")) . ";'>[<a href='javascript:toggleMOT()'>{$this->lang->words['hookLangExpand']}</a>]</span>
		<span id='mot_collapse' style='display: " . (($state == 'collapsed') ? ("none") : ("inline")) . ";'>[<a href='javascript:toggleMOT()'>{$this->lang->words['hookLangCollapse']}</a>]</span>") : ("")) . "
</h4>
<p id=\"mot_body\"" . (($this->settings['expcol_mot'] && $state == 'collapsed') ? (" class='collapsedMOT' style='display: none;'") : ("")) . ">
	" . (($this->settings['mot_show_most_online']) ? ("{$this->lang->words['hookLangOnlineMostEver']}<br /><br />") : ("")) . "" . ((count($mems)) ? ("
		{$this->lang->words['hookLangOnlineList']}<br />
		<span class='name'>" . implode( ",</span>\n<span class='name'>", $mems ) . "</span>				
	") : ("
		{$this->lang->words['hookLangOnlineTodayNone']}
	")) . "					
</p>";
return $IPBHTML;
}

/* -- hookRecentTopics --*/
function hookRecentTopics($topics) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_boards', $this->_funcHooks['hookRecentTopics'] ) )
{
$count_4d33e35087808105aa1bcb4c5b80411f = is_array($this->functionData['hookRecentTopics']) ? count($this->functionData['hookRecentTopics']) : 0;
$this->functionData['hookRecentTopics'][$count_4d33e35087808105aa1bcb4c5b80411f]['topics'] = $topics;
}
$IPBHTML .= "" . ((is_array( $topics ) && count( $topics )) ? ("
<div class='ipsSideBlock clearfix'>
	<h3>{$this->lang->words['recently_added_topics']}</h3>
	<div class='_sbcollapsable'>
		<ul class='ipsList_withminiphoto'>
		".$this->__f__332739233eef29937ef29bc11162d330($topics)."		</ul>
	</div>
</div>
") : ("")) . "";
return $IPBHTML;
}


function __f__332739233eef29937ef29bc11162d330($topics)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $topics as $r )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
		<li class='clearfix'>
			" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userSmallPhoto' ) ? $this->registry->getClass('output')->getTemplate('global')->userSmallPhoto($r) : '' ) . "
			<div class='list_content'>
				<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showtopic={$r['tid']}", "public",'' ), "{$r['title_seo']}", "showtopic" ) . "\" rel='bookmark' class='ipsType_small' title='" . strip_tags($r['topic_title']) . " {$this->lang->words['topic_started_on']} " . $this->registry->getClass('class_localization')->getDate($r['start_date'],"LONG", 0) . "'>{$r['topic_title']}</a>
				<p class='desc ipsType_smaller'>
					" . (($r['members_display_name']) ? ("" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($r) : '' ) . "") : ("{$this->settings['guest_name_pre']}{$r['starter_name']}{$this->settings['guest_name_suf']}")) . "
					- " . $this->registry->getClass('class_localization')->getDate($r['start_date'],"short", 0) . "
				</p>
			</div>
		</li>
		
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- hookTagCloud --*/
function hookTagCloud($tags) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_boards', $this->_funcHooks['hookTagCloud'] ) )
{
$count_d210eba24790278ade8b47a97bdc2218 = is_array($this->functionData['hookTagCloud']) ? count($this->functionData['hookTagCloud']) : 0;
$this->functionData['hookTagCloud'][$count_d210eba24790278ade8b47a97bdc2218]['tags'] = $tags;
}
$IPBHTML .= "<div class='ipsSideBlock clearfix'>
	<h3>{$this->lang->words['popular_tags']}</h3>
	<div class='_sbcollapsable'>
		<ul class='ipsList_inline'>
		".$this->__f__6e33506e7f9f518ad4a68f2d47bc0921($tags)."		</ul>
	</div>
</div>";
return $IPBHTML;
}


function __f__6e33506e7f9f518ad4a68f2d47bc0921($tags)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $tags['tags'] as $id => $data )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
			<li><span class=\"{$data['className']}\">{$data['tagWithUrl']}</span></li>
		
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- statusReplies --*/
function statusReplies($replies=array()) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_boards', $this->_funcHooks['statusReplies'] ) )
{
$count_b6b2bc6336b84d5684a45edd79223439 = is_array($this->functionData['statusReplies']) ? count($this->functionData['statusReplies']) : 0;
$this->functionData['statusReplies'][$count_b6b2bc6336b84d5684a45edd79223439]['replies'] = $replies;
}
$IPBHTML .= "".$this->__f__0780cb78a323c53bed940eb8b573251d($replies)."";
return $IPBHTML;
}


function __f__0780cb78a323c53bed940eb8b573251d($replies=array())
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $replies as $reply )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
	<div id='statusReply-{$reply['reply_id']}' class='ipsPad_half'>
		" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userSmallPhoto' ) ? $this->registry->getClass('output')->getTemplate('global')->userSmallPhoto(array_merge( $reply, array( '_customClass' => 'ipsUserPhoto_tiny', 'alt' => sprintf($this->lang->words['users_photo'],$reply['members_display_name']) ) )) : '' ) . "
		<div class='list_content'>
			<div class='right lighter'>
				<span class='desc ipsType_smaller'>" . $this->registry->getClass('class_localization')->getDate($reply['reply_date'],"manual{%d %b}", 0) . "&nbsp;&nbsp;</span>
				<span class='desc mod_links ipsType_smaller'>
					" . (($reply['_canDelete']) ? ("<a href=\"{$this->settings['base_url']}app=members&amp;module=profile&amp;section=status&amp;do=deleteReply&amp;status_id={$reply['reply_status_id']}&amp;reply_id={$reply['reply_id']}&amp;k={$this->member->form_hash}\" id=\"statusReplyDelete-{$reply['reply_status_id']}-{$reply['reply_id']}\" class=\"__sDR __dr{$reply['reply_status_id']}-{$reply['reply_id']}\">{$this->lang->words['status_delete_link']}</a>") : ("")) . "
				</span>
			</div>
			<strong>" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($reply) : '' ) . "</strong>
			<p class='index_status_update ipsType_small'>{$reply['reply_content']}</p>
		</div>
	</div>
	" . (($__iteratorCount == count($replies)) ? ("
		<div id='statusReplyBlank-{$reply['reply_status_id']}' style='display: none'></div>
	") : ("")) . "

";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- statusUpdates --*/
function statusUpdates($updates=array(), $smallSpace=0, $latestOnly=0) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_boards', $this->_funcHooks['statusUpdates'] ) )
{
$count_114e3cf2207cd3ebb5ad566b059c6aff = is_array($this->functionData['statusUpdates']) ? count($this->functionData['statusUpdates']) : 0;
$this->functionData['statusUpdates'][$count_114e3cf2207cd3ebb5ad566b059c6aff]['updates'] = $updates;
$this->functionData['statusUpdates'][$count_114e3cf2207cd3ebb5ad566b059c6aff]['smallSpace'] = $smallSpace;
$this->functionData['statusUpdates'][$count_114e3cf2207cd3ebb5ad566b059c6aff]['latestOnly'] = $latestOnly;
}
$IPBHTML .= "<script type=\"text/javascript\">
	ipb.status.maxReplies = " . intval($this->settings['su_max_replies']) . ";
	ipb.status.smallSpace = " . intval($smallSpace) . ";
	ipb.status.skin_group = 'boards';
</script>".$this->__f__a50e7e8e06d488119da3dd1723a28e67($updates,$smallSpace,$latestOnly)."";
return $IPBHTML;
}


function __f__a50e7e8e06d488119da3dd1723a28e67($updates=array(), $smallSpace=0, $latestOnly=0)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $updates as $id => $status )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
	" . (($this->memberData['member_id'] AND $latestOnly AND $status['member_id'] == $this->memberData['member_id']) ? ("
		<script type=\"text/javascript\">
			ipb.status.myLatest = {$status['status_id']};
		</script>
	") : ("")) . "
	<ul class='ipsList_withminiphoto status_list' id='statusWrap-{$status['status_id']}'>
		<li class='clearfix'>
			" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userSmallPhoto' ) ? $this->registry->getClass('output')->getTemplate('global')->userSmallPhoto($status) : '' ) . "
			<div class='list_content'>
				<div id=\"statusContent-{$status['status_id']}\">
					<div class='right desc lighter'>
						<span class='desc mod_links ipsType_smaller'>
							" . (($status['_canDelete']) ? ("<a rel=\"nofollow\" href=\"{$this->settings['base_url']}app=members&amp;module=profile&amp;section=status&amp;do=deleteStatus&amp;status_id={$status['status_id']}&amp;k={$this->member->form_hash}\" id=\"statusDelete-{$status['status_id']}\" class=\"__sD __d{$status['status_id']}\">{$this->lang->words['status_delete_link']}</a>") : ("")) . "
							<span id='statusUnlock-{$status['status_id']}' " . (($status['_isLocked'] AND $status['_canUnlock']) ? ("style='display:inline'") : ("style='display:none'")) . "> &middot; <a rel=\"nofollow\"  href=\"{$this->settings['base_url']}app=members&amp;module=profile&amp;section=status&amp;do=unlockStatus&amp;status_id={$status['status_id']}&amp;k={$this->member->form_hash}\" id=\"statusUnlockLink-{$status['status_id']}\" class=\"__sU __u{$status['status_id']}\">{$this->lang->words['status_unlock_link']}</a></span>
							<span id='statusLock-{$status['status_id']}' " . (($status['_canLock'] AND ! $status['_isLocked']) ? ("style='display:inline'") : ("style='display:none'")) . "> &middot; <a rel=\"nofollow\"  href=\"{$this->settings['base_url']}app=members&amp;module=profile&amp;section=status&amp;do=lockStatus&amp;status_id={$status['status_id']}&amp;k={$this->member->form_hash}\" id=\"statusLockLink-{$status['status_id']}\" class=\"__sL __l{$status['status_id']}\">{$this->lang->words['status_lock_link']}</a></span>
						</span>
						&nbsp;&nbsp;<span class='ipsType_smaller blend_links'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=profile&amp;section=status&amp;type=single&amp;status_id={$status['status_id']}", "public",'' ), "true", "members_status_single" ) . "'>" . $this->registry->getClass('class_localization')->getDate($status['status_date'],"manual{%d %b}", 0) . "</a></span>
					</div>
					" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($status) : '' ) . "
					<p class='index_status_update ipsType_small'>{$status['status_content']}</p>
					<span class='desc' id='statusToggle-{$status['status_id']}'>
						<img src=\"{$this->settings['img_url']}/icon_lock.png\" id='statusLockImg-{$status['status_id']}' alt=\"{$this->lang->words['status__locked']}\" " . ((!$status['status_is_locked']) ? ("style='display: none'") : ("")) . " />
						" . ((! $smallSpace AND $status['_creatorImg']) ? ("<img src=\"{$status['_creatorImg']}\" alt='' data-tooltip=\"{$this->lang->words['su_via']} {$status['_creatorText']}\" />") : ("")) . "
						" . (($status['_userCanReply']) ? ("" . (($status['status_replies']) ? ("
								<a href=\"#\" class=\"__sT __t{$status['status_id']} ipsType_smaller \">" . sprintf( $this->lang->words['view_comments_and_add'], $status['status_replies']) . "</a>
							") : ("
								<a href=\"#\" class=\"__sT __t{$status['status_id']} ipsType_smaller\">{$this->lang->words['add_comments_only']}</a>
							")) . "") : ("" . (($status['status_replies']) ? ("
								<a href=\"#\" class=\"__sT __t{$status['status_id']} ipsType_smaller\">" . sprintf( $this->lang->words['view_comments_only'], $status['status_replies']) . "</a>
							") : ("")) . "")) . "
					</span>
					<span class='desc' id='statusToggleOff-{$status['status_id']}' style='display:none'>
						<a href=\"#\" class=\"__sTO __to{$status['status_id']}\">{$this->lang->words['view_comments_collapse']}</a>
					</span>
				</div>
			</div>
			<div id=\"statusFeedback-{$status['status_id']}\" class='status_feedback' style='display:none'>
				<div class='ipsList_withtinyphoto status_list' id='statusReplies-{$status['status_id']}'>
					" . (($status['status_replies'] AND count( $status['replies'] )) ? ("" . (($status['status_replies'] > 3) ? ("
							<div class='status_mini_wrap row2 altrow' id='statusMoreWrap-{$status['status_id']}'>
								<img src=\"{$this->settings['img_url']}/comments.png\" alt=\"\" /> &nbsp;<a href=\"#\" id=\"statusMore-{$status['status_id']}\" class='__showAll __x{$status['status_id']}'>" . sprintf( $this->lang->words['status_show_all_x'], $status['status_replies'] ) . "</a>
							</div>
						") : ("")) . "
						" . ( method_exists( $this->registry->getClass('output')->getTemplate('boards'), 'statusReplies' ) ? $this->registry->getClass('output')->getTemplate('boards')->statusReplies($status['replies']) : '' ) . "") : ("
						<div id='statusReplyBlank-{$status['status_id']}' style='display: none'></div>
					")) . "
				</div>
				" . (($status['_userCanReply']) ? ("
					<div class='ipsList_withtinyphoto status_list status_reply clearfix ipsPad_half' id='statusReply-{$status['status_id']}'>
						" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userSmallPhoto' ) ? $this->registry->getClass('output')->getTemplate('global')->userSmallPhoto(array_merge( $this->memberData, array( '_customClass' => 'ipsUserPhoto_tiny', 'alt' => sprintf($this->lang->words['users_photo'],$this->memberData['members_display_name']) ) )) : '' ) . "
						<div class='list_content'>
							<form id='statusReplyForm-{$status['status_id']}' action='{$this->settings['base_url']}app=members&amp;module=profile&amp;section=status&amp;do=reply&amp;status_id={$status['status_id']}&amp;k={$this->member->form_hash}&amp;id={$this->memberData['member_id']}' method='post'>
								<textarea class='status_textarea' rows='3' cols='50' name='comment-{$status['status_id']}' id='statusText-{$status['status_id']}'></textarea>
								<div class=\"status_submit\"><input type='submit' class='__submit input_submit' id='statusSubmit-{$status['status_id']}' value='{$this->lang->words['status__dfcomment']}' /></div>
							</form>
							<a href='#' class='__showform' id='statusReplyFormShow-{$status['status_id']}' style='display: none'>{$this->lang->words['status__addcomment']}</a>
						</div>
					</div>
					<script type='text/javascript'>
						if( $('statusReplyForm-{$status['status_id']}') ){
							$('statusReplyForm-{$status['status_id']}').hide();
						}
						if( $('statusReplyFormShow-{$status['status_id']}') ){
							$('statusReplyFormShow-{$status['status_id']}').show();
						}
					</script>
				") : ("")) . "
			</div>
		</li>
	</ul>

";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}


}


/*--------------------------------------------------*/
/* END OF FILE                                      */
/*--------------------------------------------------*/

?>