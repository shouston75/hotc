<?php
/*--------------------------------------------------*/
/* FILE GENERATED BY INVISION POWER BOARD 3         */
/* CACHE FILE: Skin set id: 14               */
/* CACHE FILE: Generated: Sun, 09 Dec 2012 17:06:46 GMT */
/* DO NOT EDIT DIRECTLY - THE CHANGES WILL NOT BE   */
/* WRITTEN TO THE DATABASE AUTOMATICALLY            */
/*--------------------------------------------------*/

class skin_global_14 extends skinMaster{

/**
* Construct
*/
function __construct( ipsRegistry $registry )
{
	parent::__construct( $registry );
	

$this->_funcHooks = array();
$this->_funcHooks['globalTemplate'] = array('showingapp','applications','notdonefirstapp','didfirstappnow','navigationlink','closenavigationlink','forsuredidfirstnav','navigation','fbcenabled','pagenumberintitle','userte','showacplink','issupermod','numreports','rclink','accessreports','brandingBar','nonewnotifications','newmessages','messengerlink','bloglink','gallerylink','nexuslink','authenticating','limFacebook','limTwitter','limOpenid','limWindows','memberbox','showhomeurl','applicationsloop','unreadCheck','unreadCheck','morethanonenotification','pmbox','didfirstnav','switchnavigation','ruleslink','siterulestitle','siteruleslink','ncmember','viewnewcontentapp','mainpageContent','uagentlocked','skinchanger','lastvisit','isfloat','sqldebuglink','closesqldebuglink','showdebuglevel','includeLightboxDoReal');
$this->_funcHooks['includeCSS'] = array('donotminifycss','cssImport','cssInline','minifycss','csstominify','hasimportcss','inlinecss');
$this->_funcHooks['includeFeeds'] = array('dhjavascript','dhcss','dhrsd','dhraw','documentHeadItems','headitemsType','hasdocheaditems');
$this->_funcHooks['includeJS'] = array('usehttpsprototype','usehttpsscriptaculous','remoteloadjs','hasjsmodules','nmusehttpsp','nominifyremoteloadjs','nmusehttpss','nominifyremoteloadjs2','minifyjs','isLargeTouch');
$this->_funcHooks['includeMeta'] = array('ogCaveman','hasIdentifier','hasDescription','metaTagsInner','metaTags','metatags');
$this->_funcHooks['includeRTL'] = array('isrtl','checkrtl','langData','importrtlcss','importrtlcss','importrtlcss','importrtlcss','RTLMargin','hasMemberTopicMax');
$this->_funcHooks['includeVars'] = array('hasFBCHash','istm','istl','canswfupload','usefurl','hasNotification','autodst');
$this->_funcHooks['inlineLogin'] = array('facebook','twitterBox','haswindowslive','registerServices','anonymous','privvy');
$this->_funcHooks['liveEditJs'] = array('hasSkinData','liveEditOn');
$this->_funcHooks['nextPreviousTemplate'] = array('useAjaxPrev','prevpage','useAjaxNext','nextpage','haspages');
$this->_funcHooks['paginationTemplate'] = array('hasRealTitle','hasRealTitle','hasPage','activepage','pagination','firstpage','prevpage','furlinfo','normalpages','nextpage','lastpage','notDisableSinglePage','haspages');
$this->_funcHooks['quickSearch'] = array('inThisApp','inThisApp','appLoop','hasSearchApp','inTopic','inForum','appContextSearch','lookElsewhere','inThisApp','inThisApp','inThisApp');
$this->_funcHooks['shareLinks'] = array('hasOverrideApp','hasCustom','isEnabled','cacheLoop','gotLinks');
$this->_funcHooks['userHoverCard'] = array('hasClassName','hasTitle','canSeeProfiles');
$this->_funcHooks['userInfoPane'] = array('customFields','customFieldsOuter','avatar','membertitle','rankimageimage','rankimage','isfriend','friendop','sendpm','hasblog','hasgallery','xhtmlftw','ismember','authorcfields','changewarn','changewarn','changewarn','highwarn','authorwarn');
$this->_funcHooks['userSmallPhoto'] = array('linkAvatarOpen','hasAlt','hasCustomClass','hasphoto','linkAvatarClose');
$this->_funcHooks['warnDetails'] = array('actionIsPermanent','hasAction','actions','hasReasonAndContent','hasContent','hasReason','hasExpireDate','canExpire','hasPoint','isVerbalOnly','hasModAndMemberNote','hasMemberNote','canSeeModNote');


}

/* -- defaultHeader --*/
function defaultHeader() {
$IPBHTML = "";
$IPBHTML .= "<a href='{$this->settings['board_url']}' title='{$this->lang->words['go_home']}' rel=\"home\" accesskey='1'><img src='" . $this->registry->getClass('output')->getReplacement("logo_img") . "' alt='{$this->lang->words['logo']}' /></a>";
return $IPBHTML;
}

/* -- facebookShareButton --*/
function facebookShareButton($url, $title) {
$IPBHTML = "";
$IPBHTML .= "<li class='fbLike'><div class=\"fb-like\" data-href=\"{$url}\" data-send=\"false\" data-layout=\"button_count\" data-width=\"150\" data-show-faces=\"false\" data-action=\"like\"></div><div id=\"fb-root\"></div></li>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = \"//connect.facebook.net/{$this->settings['fb_locale']}/all.js#xfbml=1&appId={$this->settings['fbc_appid']}\";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>";
return $IPBHTML;
}

/* -- forum_jump --*/
function forum_jump($html) {
$IPBHTML = "";
$IPBHTML .= "<form id='forum_jump' action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "", "public",'' ), "", "" ) . "' method='get'>
		<fieldset>
			<select name='showforum' id='showforumJump' class='input_select'>
				<optgroup label=\"{$this->lang->words['forum_jump']}\">
					<option value='0'>{$this->lang->words['forum_home']}</option>
					{$html}
				</optgroup>
			</select>
			" . (($this->member->session_type != 'cookie') ? ("<input type='hidden' name='s' value='{$this->member->session_id}' />") : ("")) . "
			<input type='submit' value='{$this->lang->words['jmp_go']}' class='input_submit alt' id='forum_jump_submit' />
		</fieldset>
	</form>";
return $IPBHTML;
}

/* -- globalTemplate --*/
function globalTemplate($html, $documentHeadItems, $css, $jsModules, $metaTags, $header_items=array(), $items=array(), $footer_items=array(), $stats=array()) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_global', $this->_funcHooks['globalTemplate'] ) )
{
$count_8bffa95b0e13372e24a50eaad93ff49f = is_array($this->functionData['globalTemplate']) ? count($this->functionData['globalTemplate']) : 0;
$this->functionData['globalTemplate'][$count_8bffa95b0e13372e24a50eaad93ff49f]['html'] = $html;
$this->functionData['globalTemplate'][$count_8bffa95b0e13372e24a50eaad93ff49f]['documentHeadItems'] = $documentHeadItems;
$this->functionData['globalTemplate'][$count_8bffa95b0e13372e24a50eaad93ff49f]['css'] = $css;
$this->functionData['globalTemplate'][$count_8bffa95b0e13372e24a50eaad93ff49f]['jsModules'] = $jsModules;
$this->functionData['globalTemplate'][$count_8bffa95b0e13372e24a50eaad93ff49f]['metaTags'] = $metaTags;
$this->functionData['globalTemplate'][$count_8bffa95b0e13372e24a50eaad93ff49f]['header_items'] = $header_items;
$this->functionData['globalTemplate'][$count_8bffa95b0e13372e24a50eaad93ff49f]['items'] = $items;
$this->functionData['globalTemplate'][$count_8bffa95b0e13372e24a50eaad93ff49f]['footer_items'] = $footer_items;
$this->functionData['globalTemplate'][$count_8bffa95b0e13372e24a50eaad93ff49f]['stats'] = $stats;
}

$this->templateVars['forumActive'] = "";
$this->__default__templateVars['forumActive'] = "";
if ( IPS_APP_COMPONENT == 'forums' )
{
	$this->templateVars['forumActive'] = "active";
}
else {$this->templateVars['forumActive'] = $this->__default__templateVars['forumActive']; }

$this->templateVars['membersActive'] = "";
$this->__default__templateVars['membersActive'] = "";
if ( IPS_APP_COMPONENT == 'members' )
{
	$this->templateVars['membersActive'] = "active";
}
else {$this->templateVars['membersActive'] = $this->__default__templateVars['membersActive']; }

$this->templateVars['helpActive'] = "";
$this->__default__templateVars['helpActive'] = "";
if ( IPS_APP_COMPONENT == 'core' AND $this->request['module'] == 'help' )
{
	$this->templateVars['helpActive'] = "active";
}
else {$this->templateVars['helpActive'] = $this->__default__templateVars['helpActive']; }

$this->did_first = 0;
$IPBHTML .= "<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">
	<html xml:lang=\"en\" lang=\"en\" xmlns=\"http://www.w3.org/1999/xhtml\"" . ((IPSLib::fbc_enabled() === TRUE) ? (" xmlns:fb=\"http://www.facebook.com/2008/fbml\"") : ("")) . ">
	<head>
		<meta http-equiv=\"content-type\" content=\"text/html; charset={$this->settings['gb_char_set']}\" />
		<title>{$header_items['title']}" . (($header_items['page']) ? (" {$this->lang->words['page_title_page']} {$header_items['page']}") : ("")) . "</title>
		<link rel=\"shortcut icon\" href='" . (($this->registry->output->isHTTPS) ? ("{$this->settings['board_url_https']}") : ("{$this->settings['board_url']}")) . "/favicon.ico' />
		<link rel=\"image_src\" href='{$this->settings['meta_imagesrc']}' />
		<script type='text/javascript'>
			jsDebug = " . intval($this->settings['_jsDebug']) . "; /* Must come before JS includes */
			USE_RTE = " . (($this->memberData['members_editor_choice'] == 'rte' && $this->memberData['_canUseRTE'] === TRUE) ? ("1") : ("0")) . ";
			DISABLE_AJAX = parseInt({$this->settings['disable_text_ajax']}); /* Disables ajax requests where text is sent to the DB; helpful for charset issues */
			inACP   = false;
		</script>
		" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'includeCSS' ) ? $this->registry->getClass('output')->getTemplate('global')->includeCSS($css) : '' ) . "
		<!--<meta http-equiv=\"X-UA-Compatible\" content=\"IE=7\" />-->
		" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'includeMeta' ) ? $this->registry->getClass('output')->getTemplate('global')->includeMeta($metaTags) : '' ) . "
		<meta property=\"og:title\" content=\"" . IPSText::htmlspecialchars( str_replace( ' - ' . $this->settings['board_name'], '', $header_items['title'] ) ) . "\"/>
		<meta property=\"og:site_name\" content=\"{$this->settings['board_name']}\"/>
		<meta property=\"og:image\" content=\"{$this->settings['meta_imagesrc']}\"/>
		" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'includeJS' ) ? $this->registry->getClass('output')->getTemplate('global')->includeJS($jsModules) : '' ) . "" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'includeFeeds' ) ? $this->registry->getClass('output')->getTemplate('global')->includeFeeds($documentHeadItems) : '' ) . "" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'includeRTL' ) ? $this->registry->getClass('output')->getTemplate('global')->includeRTL() : '' ) . "		
		" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'includeVars' ) ? $this->registry->getClass('output')->getTemplate('global')->includeVars() : '' ) . "
		<script type='text/javascript'>
			Loader.boot();
		</script>
	</head>
	<body id='ipboard_body'>
		<div id='ipbwrapper'>
			<h1>{$this->settings['board_name']}: {$header_items['title']}</h1>
			<p id='content_jump'><a id='top'></a><a href='#j_content' title='{$this->lang->words['jump_to_content']}' accesskey='m'>{$this->lang->words['jump_to_content']}</a></p>
		
			<!--hook.if.skin_global.globalTemplate.accessreports.pre.startif-->" . ((($this->memberData['g_is_supmod'] == 1 OR ( isset( $this->memberData['access_report_center'] ) AND $this->memberData['access_report_center'] ) )) ? ("<div id='admin_bar'>
					" . (($this->memberData['g_access_cp'] == 1 AND $this->settings['security_remove_acp_link'] == 0) ? ("
					<p class='right'>
						<a href=\"{$this->settings['_admin_link']}\" title='{$this->lang->words['admin_cp']}'>{$this->lang->words['login_to_acp']} &gt;</a>
					</p>
					") : ("")) . "
					<strong>{$this->lang->words['mod_tools']}</strong> 
					<ul id='mod_tools'>
						" . (($this->memberData['g_is_supmod'] == 1) ? ("
							<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=usercp&amp;tab=members&amp;area=mod_ipaddress", "public",'' ), "", "" ) . "' title='{$this->lang->words['ip_lookup']}'>{$this->lang->words['ip_lookup']}</a></li>
							<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=usercp&amp;tab=forums&amp;area=mod_announcements", "public",'' ), "", "" ) . "' title='{$this->lang->words['post_announcement']}'>{$this->lang->words['post_announcement']}</a></li>
						") : ("")) . "
						" . (($this->memberData['access_report_center']) ? ("<li " . (($this->memberData['_cache']['report_num'] > 0) ? ("class='active'") : ("")) . "><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=reports&amp;do=index", "public",'' ), "", "" ) . "\" title='{$this->lang->words['view_reports']}'>{$this->memberData['_cache']['report_num']} {$this->lang->words['report_member_bar']}</a></li>") : ("")) . "
					</ul>
				</div>") : ("")) . "
			<div id='header'>
				<div id='branding'>
					" . ((method_exists( $this->registry->output->getTemplate( $this->registry->getCurrentApplication() . '_global' ), 'overwriteHeader' )) ? ("
						" . ( method_exists( $this->registry->getClass('output')->getTemplate(''.$this->registry->getCurrentApplication().'_global'), 'overwriteHeader' ) ? $this->registry->getClass('output')->getTemplate(''.$this->registry->getCurrentApplication().'_global')->overwriteHeader() : '' ) . "
					") : ("
						" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'defaultHeader' ) ? $this->registry->getClass('output')->getTemplate('global')->defaultHeader() : '' ) . "
					")) . "
				</div>
						
				" . (($this->memberData['member_id']) ? ("<div id='user_navigation' class='logged_in'>
						<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$this->memberData['member_id']}", "public",'' ), "{$this->memberData['members_seo_name']}", "showuser" ) . "\" title='{$this->lang->words['your_profile']}'><img src='{$this->memberData['pp_thumb_photo']}' alt=\"{$this->memberData['members_display_name']}{$this->lang->words['users_photo']}\" width='{$this->memberData['pp_thumb_width']}' height='{$this->memberData['pp_thumb_height']}' class='photo' /></a>
						<div id='user_info'>
							<p id='user_notifications' " . ((!$this->memberData['notification_cnt']) ? ("class='no-new'") : ("")) . ">
								<a id='user_notifications_link' href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=usercp&amp;area=notificationlog", "public",'' ), "", "" ) . "' title=\"" . sprintf( "{$this->lang->words['manage_notifications']}", "{$this->memberData['notification_cnt']}" ) . "\"><small>{$this->memberData['notification_cnt']}<span class='hide'>{$this->lang->words['unread_notification_suffix']}</span></small> <img src='{$this->settings['img_url']}/opts_arrow.png' alt='&gt;' id='notify-down-arrow' /></a>
							</p>
							<p>
								<span class='hide'>{$this->lang->words['logged_in_as']} </span>
								<a id='user_link' class='ipbmenu' href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$this->memberData['member_id']}", "public",'' ), "{$this->memberData['members_seo_name']}", "showuser" ) . "\"  title='{$this->lang->words['your_profile']}'>{$this->memberData['members_display_name']} <img src='{$this->settings['img_url']}/opts_arrow.png' alt='&gt;' /></a>" . (($this->memberData['msg_count_new'] != 0) ? ("<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=messaging", "public",'' ), "", "" ) . "' id='new_msg_count' title='{$this->memberData['msg_count_new']} {$this->lang->words['msg_new']}'>{$this->memberData['msg_count_new']}<span class='hide'> {$this->lang->words['msg_new']}</span></a>") : ("")) . "
							</p>
							<ul id='user_link_menucontent'>
								<li id='user_profile' class='row1'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$this->memberData['member_id']}", "public",'' ), "{$this->memberData['members_seo_name']}", "showuser" ) . "' title='{$this->lang->words['your_profile']}'>{$this->lang->words['my_profile']}</a></li>
								<li id='user_ucp' class='row1'><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=usercp", "public",'' ), "", "" ) . "\" title=\"{$this->lang->words['cp_tool_tip']}\">{$this->lang->words['your_cp']}</a></li>
								<li id='user_content' class='row1'><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=user_activity&amp;mid={$this->memberData['member_id']}", "public",'' ), "", "" ) . "\" title=\"{$this->lang->words['my_content_link']}\">{$this->lang->words['my_content_link']}</a></li>
								" . (($this->memberData['g_use_pm'] AND $this->memberData['members_disable_pm'] == 0) ? ("
									<li id='user_msg' class='row1'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=messaging", "public",'' ), "", "" ) . "' title='{$this->lang->words['your_messenger']}'>{$this->lang->words['your_messenger']} <span id='new_message'>({$this->memberData['msg_count_new']} {$this->lang->words['msg_new']})</span></a></li>
								") : ("")) . "
								<li id='user_friends' class='row1'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=profile&amp;section=friends&amp;do=list", "public",'' ), "", "" ) . "' title=\"{$this->lang->words['manage_friends']}\" class='manage_friends'>{$this->lang->words['manage_friends']}</a></li>
								<li id='user_enemies' class='row1'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=usercp&amp;tab=members&amp;area=ignoredusers", "public",'' ), "", "" ) . "' title=\"{$this->lang->words['manage_ignored_users']}\" class='manage_enemies'>{$this->lang->words['manage_ignored_users']}</a></li>
								" . (($this->memberData['has_blog'] AND IPSLib::appIsInstalled( 'blog' )) ? ("
									<li id='user_blog' class='row1'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;module=display&amp;section=blog&amp;mid={$this->memberData['member_id']}", "public",'' ), "", "" ) . "' title=\"{$this->lang->words['go_to_my_blog']}\">{$this->lang->words['my_blog']}</a></li>
								") : ("")) . "
								" . (($this->memberData['has_gallery'] AND IPSLib::appIsInstalled( 'gallery' )) ? ("
									<li id='user_gallery' class='row1'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=gallery&amp;module=user&amp;section=user&amp;user={$this->memberData['member_id']}", "public",'' ), "", "" ) . "' title=\"{$this->lang->words['go_to_my_gallery']}\">{$this->lang->words['my_gallery']}</a></li>
								") : ("")) . "
								" . ((IPSLib::appIsInstalled( 'nexus' )) ? ("
									<li id='user_nexus' class='row1'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=nexus&amp;module=clients", "public",'' ), "", "" ) . "' title=\"{$this->lang->words['client_area']}\">{$this->lang->words['client_area']}</a></li>
								") : ("")) . "
							</ul>
							<ul id='user_other'>
								<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=global&amp;section=login&amp;do=logout&amp;k={$this->member->form_hash}", "public",'' ), "", "" ) . "\">{$this->lang->words['log_out']}</a></li>
								<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=help", "public",'' ), "", "" ) . "\" title='{$this->lang->words['view_help']}' rel=\"help\" accesskey='6'>{$this->lang->words['sj_help']}</a></li>
								" . (($this->memberData['member_group_id'] == $this->settings['auth_group']) ? ("
									<li><strong><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=global&amp;section=register&amp;do=reval", "public",'' ), "", "" ) . "\" title='{$this->lang->words['resend_val']}'>{$this->lang->words['resend_val']}</a></strong></li>
								") : ("")) . "
							</ul>
							<script type='text/javascript'>
								if( $('user_link_menucontent') ){
									$('user_link_menucontent').hide();
								}
							</script>
							" . $this->registry->getClass('output')->addJSModule("friends", "0" ) . "
						</div>
					</div>") : ("<div id='user_navigation' class='not_logged_in'>
						<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=global&amp;section=login", "public",'' ), "", "" ) . "' title='{$this->lang->words['sign_in']}' id='sign_in' class='rounded'>
							<span class='left'>{$this->lang->words['sign_in']}</span>
							<span class='services right'>
								" . ((IPSLib::loginMethod_enabled('facebook')) ? ("" . $this->registry->getClass('output')->getReplacement("lim_facebook") . "") : ("")) . "
								" . ((IPSLib::loginMethod_enabled('twitter')) ? ("" . $this->registry->getClass('output')->getReplacement("lim_twitter") . "") : ("")) . "
								" . ((IPSLib::loginMethod_enabled('openid')) ? ("" . $this->registry->getClass('output')->getReplacement("lim_openid") . "") : ("")) . "
								" . ((IPSLib::loginMethod_enabled('live')) ? ("" . $this->registry->getClass('output')->getReplacement("lim_windows") . "") : ("")) . "
							</span>
							<br />
						</a>
						<span class='links'>
							{$this->lang->words['new_user']}
							<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=global&amp;section=register", "public",'' ), "", "" ) . "\" title='{$this->lang->words['register']}' id='register_link'>{$this->lang->words['register']}</a>
							<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=help", "public",'' ), "", "" ) . "\" title='{$this->lang->words['view_help']}' rel=\"help\" accesskey='6' class='right'>" . $this->registry->getClass('output')->getReplacement("help_icon") . " {$this->lang->words['sj_help']}</a>
						</span>
					</div>")) . "
			
				<div id='primary_nav'>
					<div id='search'>
						" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'quickSearch' ) ? $this->registry->getClass('output')->getTemplate('global')->quickSearch() : '' ) . "
					</div>
					<ul>
						" . (($this->settings['home_url']) ? ("
							<li id='nav_home' class='left'><a href='{$this->settings['home_url']}' title='{$this->lang->words['homepage_title']}' rel=\"home\">{$this->settings['home_name']}</a></li>
						") : ("")) . "
																								" . ((!ipsRegistry::$applications['forums']['app_hide_tab']) ? ("<li id='nav_discussion' class='left " . $this->templateVars["forumActive"] . "'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "act=idx", "public",'' ), "false", "" ) . "' title='{$this->lang->words['go_to_discussion']}'>{$this->lang->words['discussion']}</a></li>") : ("")) . "" . ((!ipsRegistry::$applications['members']['app_hide_tab']) ? ("<li id='nav_members' class='left " . $this->templateVars["membersActive"] . "'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members", "public",'' ), "false", "members_list" ) . "' title='{$this->lang->words['go_to_memberlist']}'>{$this->lang->words['tb_mlist']}</a></li>") : ("")) . "
						" . ((is_array($header_items['applications']) AND count($header_items['applications'])) ? ("
							".$this->__f__0857c5762d65aceb544a63e14a508dd0($html,$documentHeadItems,$css,$jsModules,$metaTags,$header_items,$items,$footer_items,$stats)."						") : ("")) . "
					</ul>
				</div>
				
				" . ((is_array( $items['notifications'] )) ? ("<div id='pm_notification' class='open' rel='{$items['notifications']['notify_id']}'>
						<div id='pm_wrap'>
							<h3><a href='#j_content' id='close_pm_notification'><img src=\"{$this->settings['img_url']}/close_popup.png\" alt=\"x\"></a> <span id='pm_notify_title'>{$items['notifications']['notify_title']}</span></h3>
							<p class='desc'><strong>{$this->lang->words['pc_sent']}</strong> <span id='pm_date'>" . $this->registry->getClass('class_localization')->getDate($items['notifications']['notify_sent'],"short", 0) . "</span></p>
							<p id='pm_notify_excerpt' class='excerpt'>
								{$items['notifications']['notify_text']}
							</p>
							<p class='submit'>
								" . (($items['notifications']['notify_url']) ? ("<a href='{$items['notifications']['notify_url']}' id='view_pm_notification' class='input_submit'>{$this->lang->words['global_pm_read_short']}" . (($this->memberData['notification_cnt'] > 1) ? (" (<span id='pm-count'>1</span>/{$this->memberData['notification_cnt']})") : ("")) . "</a> &nbsp;") : ("<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=usercp&amp;area=viewNotification&amp;do=view&amp;view={$items['notifications']['notify_id']}", "public",'' ), "", "" ) . "' id='view_pm_notification' class='input_submit'>{$this->lang->words['global_pm_read']}" . (($this->memberData['notification_cnt'] > 1) ? (" (<span id='pm-count'>1</span>/{$this->memberData['notification_cnt']})") : ("")) . "</a> &nbsp;")) . "
								<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=usercp&amp;area=markNotification&amp;do=mark&amp;mark={$items['notifications']['notify_id']}", "public",'' ), "", "" ) . "' id='ack_pm_notification' class='input_submit alt'>{$this->lang->words['mark_pc_read']}</a> &nbsp;
								
								<a href='#' id='notification_go_forward' class='configure input_submit" . (($this->memberData['notification_cnt'] < 2) ? (" hide") : ("")) . "'>&gt;</a>
								<a href='#' id='notification_go_back' class='configure input_submit hide'>&lt;</a>
								
								<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=usercp&amp;tab=core&amp;area=notifications", "public",'' ), "", "" ) . "' class='configure'>{$this->lang->words['configure_notifications']}</a>
							</p>
						</div>
					</div>
					<script type='text/javascript'>
						$('pm_notification').hide();
					</script>") : ("")) . "
			
				<div id='secondary_nav'>
					<ul id='breadcrumb' class='left'>
												" . ((!$this->settings['remove_forums_nav'] OR ipsRegistry::$current_application == 'forums') ? ("<li class='first'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "act=idx", "public",'' ), "false", "" ) . "'>{$this->settings['board_name']}</a></li>
							" . (($this->did_first=1) ? ("") : ("")) . "") : ("")) . "
						".$this->__f__f3810ca3a4d32905612bd367cc9088be($html,$documentHeadItems,$css,$jsModules,$metaTags,$header_items,$items,$footer_items,$stats)."					</ul>
					<ul id='section_links' class='right'>
						" . (($this->settings['gl_show'] and $this->settings['gl_title']) ? ("<li><a href='" . (($this->settings['gl_link']) ? ("{$this->settings['gl_link']}") : ("" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=extras&amp;section=boardrules", "public",'' ), "", "" ) . "")) . "'>" . (($this->settings['gl_title']) ? ("{$this->settings['gl_title']}") : ("{$this->lang->words['board_rules']}")) . "</a></li>") : ("")) . "
						<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=" . (($this->memberData['member_id']) ? ("new_posts") : ("active")) . "&amp;search_app=" . (($this->registry->getCurrentApplication() != 'core' AND IPSLib::appisSearchable( $this->registry->getCurrentApplication() )) ? ("{$this->registry->getCurrentApplication()}") : ("forums")) . "", "public",'' ), "", "" ) . "' accesskey='2'>{$this->lang->words['view_new_posts']}</a></li>
						<li><img src='{$this->settings['img_url']}/feed.png' alt='{$this->lang->words['rss_feed']}' id='rss_feed' class='clickable' /></li>
					</ul>
				</div>
			</div>
			<div id='content' class='clear'>
				<a id='j_content'></a>
				{$items['adHeaderCode']}
				" . (($html) ? ("{$html}") : ("")) . "
				{$items['adFooterCode']}
				<br class='clear' />
			</div>
			<div id='footer_utilities' class='clearfix clear rounded'>
				<h2 class='hide'>{$this->lang->words['skin_and_lang']}</h2>
				" . (($this->settings['allow_skins'] AND $footer_items['skin_chooser']) ? ("" . (($this->memberData['userAgentLocked'] AND ! $this->memberData['userAgentBypass']) ? ("
						<p id='useragent_msg'>
							{$this->lang->words['skin_browser_set']} <a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$this->settings['query_string_formatted']}&amp;unlockUserAgent=1", "public",'' ), "", "" ) . "'>{$this->lang->words['override_browser_theme']}</a>
						</p>
					") : ("
						<form action=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$this->settings['query_string_formatted']}", "public",'' ), "", "" ) . "\" method=\"post\" class='left'>
							<fieldset>
								<input type='hidden' name='k' value='{$this->member->form_hash}' />
								<label for='newSkin' class='hide'>{$this->lang->words['theme_prefix']}</label>
								<select name=\"settingNewSkin\" id='newSkin'>
									{$footer_items['skin_chooser']}
								</select>
								<input type='submit' value='{$this->lang->words['jmp_go']}' class='input_submit alt' id='newSkinSubmit' />
							</fieldset>
						</form>
					")) . "") : ("")) . "
				<form action=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$this->settings['query_string_formatted']}", "public",'' ), "", "" ) . "\" method=\"post\" class='left'>
					<fieldset>
						<input type='hidden' name='k' value='{$this->member->form_hash}' />
						<input type='hidden' name='setlanguage' value='1' />
						<input type=\"hidden\" name=\"langurlbits\" value=\"{$this->settings['query_string_safe']}&amp;cal_id={$this->request['cal_id']}\" />
						<label for='newLang' class='hide'>{$this->lang->words['language_prefix']}</label>
						<select name=\"langid\" id='newLang'>
								{$footer_items['lang_chooser']}
						</select>
						<input type='submit' class='input_submit alt' value='{$this->lang->words['jmp_go']}' id='newLangSubmit' />
					</fieldset>
				</form>
				<h2 class='hide'>{$this->lang->words['exec_stats']}</h2>
				<ul class='right'>
					<li>{$this->lang->words['time_now']} {$footer_items['time']}
						" . (($this->memberData['member_id'] AND $this->memberData['last_visit']) ? ("<p>{$this->lang->words['you_last_visit']} " . $this->registry->getClass('class_localization')->getDate($this->memberData['last_visit'],"short", 0) . "</p>") : ("")) . "
					</li>
					" . (($this->memberData['member_id'] and $this->settings['debug_level']) ? ("<li><img src='{$this->settings['img_url']}/stats_time.png' alt='' /> {$stats['ex_time']} " . ((is_float($stats['ex_time'])) ? ("{$this->lang->words['stats_sec']}") : ("")) . "</li>
						<li><img src='{$this->settings['img_url']}/stats_server.png' alt='' /> {$stats['server_load']}</li>
						<li><img src='{$this->settings['img_url']}/stats_database.png' alt='' /> {$stats['queries']} " . ((IPS_SQL_DEBUG_MODE) ? ("<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$this->settings['query_string_safe']}&amp;debug=1", "public",'' ), "", "" ) . "'>") : ("")) . "{$this->lang->words['stats_queries']}" . ((IPS_SQL_DEBUG_MODE) ? ("</a>") : ("")) . "</li>
						<li><img src='{$this->settings['img_url']}/stats_compression.png' alt='' /> {$stats['gzip_status']}</li>") : ("")) . "
				</ul>
			</div>
			<!-- __FOOTER__ -->
			<!-- /__FOOTER__ -->
			<!--DEBUG_STATS-->
			<div id='board_footer'>
				<ul id='utility_links' class='left'>
					<li><a href='#top' id='backtotop' title='{$this->lang->words['go_to_top']}'>{$this->lang->words['back_to_top']}</a></li>
					<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "", "public",'' ), "", "" ) . "' title='{$this->lang->words['sj_home']}'>{$this->lang->words['sj_home']}</a></li>
					<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=global&amp;section=login&amp;do=deleteCookies&amp;k={$this->member->form_hash}", "public",'' ), "", "" ) . "\" title='{$this->lang->words['delete_all_cookies_title']}'>{$this->lang->words['delete_my_cookies']}</a></li>
					<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=forums&amp;module=forums&amp;section=markasread&amp;marktype=all&amp;k={$this->member->form_hash}", "public",'' ), "", "" ) . "\" title='{$this->lang->words['mark_all_as_read']}'>{$this->lang->words['mark_board_as_read']}</a>" . $this->registry->getClass('output')->getReplacement("message") . "
				{$footer_items['copyright']}
			</div>
			{$stats['task']}
			" . (($this->settings['do_include_lightbox_real']) ? ("
				" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'include_lightbox_real' ) ? $this->registry->getClass('output')->getTemplate('global')->include_lightbox_real() : '' ) . "
			") : ("")) . "
		</div><script type=\"text/javascript\" src=\"https://apis.google.com/js/plusone.js\"></script>
	</body>
</html>";
return $IPBHTML;
}


function __f__0857c5762d65aceb544a63e14a508dd0($html, $documentHeadItems, $css, $jsModules, $metaTags, $header_items=array(), $items=array(), $footer_items=array(), $stats=array())
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $header_items['applications'] as $data )
	{
		
$this->templateVars['appActive'] = "";
$this->__default__templateVars['appActive'] = "";
if ( $data['app_active'] )
{
	$this->templateVars['appActive'] = "active";
}
else {$this->templateVars['appActive'] = $this->__default__templateVars['appActive']; }

		$__iteratorCount++;
		$_ips___x_retval .= "
								" . (($data['app_show']) ? ("
																		<li id='nav_app_{$data['app_dir']}' class=\"left " . $this->templateVars["appActive"] . "\"><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$data['app_link']}", "public",'' ), "false", "" ) . "' title='" . sprintf( $this->lang->words['go_to_prefix'], $data['app_title'] ) . "'>{$data['app_title']}</a></li>
								") : ("")) . "
							
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__f3810ca3a4d32905612bd367cc9088be($html, $documentHeadItems, $css, $jsModules, $metaTags, $header_items=array(), $items=array(), $footer_items=array(), $stats=array())
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $items['navigation'] as $idx => $data )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
							<li" . ((!$this->did_first) ? (" class='first'") : ("")) . ">" . (($this->did_first) ? ("<span class='nav_sep'>" . $this->registry->getClass('output')->getReplacement("f_nav_sep") . "</span>") : ("")) . " " . (($data[1]) ? ("<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$data[1]}", "$data[4]",'' ), "$data[2]", "$data[3]" ) . "' title='{$this->lang->words['nav_return_to']}{$data[0]}'>") : ("")) . "{$data[0]}" . (($data[1]) ? ("</a>") : ("")) . "</li>
							" . (($this->did_first=1) ? ("") : ("")) . "
						
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- googlePlusOneButton --*/
function googlePlusOneButton($url, $title, $params) {
$IPBHTML = "";
$IPBHTML .= "<script type=\"text/javascript\" src=\"https://apis.google.com/js/plusone.js\">
	" . ((!empty( $params ) and isset( $params['lang'] )) ? ("
		{lang: '{$params['lang']}'}
	") : ("")) . "
</script>
<li><div class='googlePlusOne'><g:plusone count=\"false\" size=\"small\"></g:plusone></div></li>";
return $IPBHTML;
}

/* -- include_highlighter --*/
function include_highlighter($load_when_needed=0) {
$IPBHTML = "";
$IPBHTML .= "" . $this->registry->getClass('output')->addToDocumentHead( 'importcss', "{$this->settings['css_base_url']}style_css/prettify.css" ) . "
	<script type=\"text/javascript\" src=\"{$this->settings['js_base_url']}js/3rd_party/prettify/prettify.js\"></script>
	<script type='text/javascript' src='{$this->settings['js_base_url']}js/3rd_party/prettify/lang-sql.js'></script>
	<!-- By default we load generic code, php, css, sql and xml/html; load others here if desired -->
	<script type=\"text/javascript\">
	//<![CDATA[
		Event.observe( window, 'load', function(e){ prettyPrint() });
	//]]>
	</script>";
return $IPBHTML;
}

/* -- include_lightbox --*/
function include_lightbox() {
$IPBHTML = "";

$this->settings['do_include_lightbox_real'] = 1;
$IPBHTML .= "";
return $IPBHTML;
}

/* -- include_lightbox_real --*/
function include_lightbox_real() {
$IPBHTML = "";
$IPBHTML .= "<script type='text/javascript' src='{$this->settings['public_dir']}js/3rd_party/lightbox.js'></script>
<script type='text/javascript'>
//<![CDATA[
	// Lightbox Configuration
	LightboxOptions = Object.extend({
	    fileLoadingImage:        '{$this->settings['img_url']}/lightbox/loading.gif',     
	    fileBottomNavCloseImage: '{$this->settings['img_url']}/lightbox/closelabel.gif',
	    overlayOpacity: 0.8,   // controls transparency of shadow overlay
	    animate: true,         // toggles resizing animations
	    resizeSpeed: 10,        // controls the speed of the image resizing animations (1=slowest and 10=fastest)
	    borderSize: 10,         //if you adjust the padding in the CSS, you will need to update this variable
		// When grouping images this is used to write: Image # of #.
		// Change it for non-english localization
		labelImage: \"{$this->lang->words['lightbox_label']}\",
		labelOf: \"{$this->lang->words['lightbox_of']}\"
	}, window.LightboxOptions || {});
/* Watch for a lightbox image and set up our downloadbutton watcher */
document.observe('click', (function(event){
    var target = event.findElement('a[rel*=\"lightbox\"]') || event.findElement('area[rel*=\"lightbox\"]') || event.findElement('span[rel*=\"lightbox\"]');
    if (target) {
        event.stop();
        gbl_addDownloadButton();
    }
}).bind(this));
var _to    = '';
var _last  = '';
function gbl_addDownloadButton()
{
	if ( typeof( ipsLightbox.lightboxImage ) != 'undefined' && ipsLightbox.lightboxImage.src )
	{
		if ( _last != ipsLightbox.lightboxImage.src )
		{
			if ( ! $('gbl_d') )
			{
				$('bottomNav').insert( { top: \"<div id='gbl_d' style='text-align:right;padding-bottom:4px;'></div>\" } );
			}
			
			$('gbl_d').update( \"<a href='\"+ ipsLightbox.lightboxImage.src + \"' target='_blank'><img src='{$this->settings['img_url']}/lightbox/download-icon.png' /></a>\" );
			
			_last = ipsLightbox.lightboxImage.src;
		}
	}
	
	/* Check for init and then keep checking for new image */
	_to = setTimeout( \"gbl_addDownloadButton()\", 1000 );
}
//]]>
</script>";
return $IPBHTML;
}

/* -- includeCSS --*/
function includeCSS($css) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_global', $this->_funcHooks['includeCSS'] ) )
{
$count_5580a044d1f4c7dec9240b0fa7cc9aa6 = is_array($this->functionData['includeCSS']) ? count($this->functionData['includeCSS']) : 0;
$this->functionData['includeCSS'][$count_5580a044d1f4c7dec9240b0fa7cc9aa6]['css'] = $css;
}

$this->minify = array();
$IPBHTML .= "" . ((is_array( $css['import'] )) ? ("" . (($this->settings['use_minify']) ? ("") : ("")) . "
	".$this->__f__9c1beca4f01ee6ba21320b9cfb0106f4($css)."	" . (($this->settings['use_minify'] AND count($this->minify)) ? ("
		<link rel=\"stylesheet\" type=\"text/css\" media='screen,print' href=\"{$this->settings['css_base_url']}min/index.php?ipbv={$this->registry->output->antiCacheHash}&amp;f=" . str_replace( $this->settings['css_base_url'], PUBLIC_DIRECTORY . '/', implode( ',', $this->minify ) ) . "\" />
	") : ("")) . "") : ("")) . "
" . ((is_array( $css['inline'] ) AND count( $css['inline'] )) ? ("
	".$this->__f__aaddd2144f40e3bef4535949192945a7($css)."") : ("")) . "
<!--[if lte IE 7]>
	<link rel=\"stylesheet\" type=\"text/css\" title='Main' media=\"screen\" href=\"{$this->settings['css_base_url']}style_css/{$this->registry->output->skin['_csscacheid']}/ipb_ie.css\" />
<![endif]-->
<!--[if lte IE 8]>
	<style type='text/css'>
		.ipb_table { table-layout: fixed; }
		.ipsLayout_content { width: 99.5%; }
	</style>
<![endif]-->
" . (($this->settings['resize_img_force']) ? ("
	<!-- Forces resized images to an admin-defined size -->
	<style type='text/css'>
		img.bbc_img {
			max-width: {$this->settings['resize_img_force']}px !important;
			max-height: {$this->settings['resize_img_force']}px !important;
		}
	</style>
") : ("
	<style type='text/css'>
		img.bbc_img { max-width: 100% !important; }
	</style>
")) . "";
return $IPBHTML;
}


function __f__9c1beca4f01ee6ba21320b9cfb0106f4($css)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $css['import'] as $data )
	{
		
$importCss = true;
			if( stripos( $data['content'], $this->settings['css_base_url'] ) === 0 && $this->settings['use_minify'] AND ( ! $data['attributes'] OR stripos( $data['attributes'], 'screen' ) !== false ) )
			{
				$importCss		= false;
				$this->minify[]	= "{$data['content']}";
			}

		$__iteratorCount++;
		$_ips___x_retval .= "
				" . (($importCss) ? ("
			<link rel=\"stylesheet\" type=\"text/css\" {$data['attributes']} href=\"{$data['content']}?ipbv={$this->registry->output->antiCacheHash}\" />
		") : ("")) . "
	
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__aaddd2144f40e3bef4535949192945a7($css)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $css['inline'] as $data )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
	<style type=\"text/css\" {$data['attributes']}>
		/* Inline CSS */
		{$data['content']}
	</style>
	
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- includeFeeds --*/
function includeFeeds($documentHeadItems) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_global', $this->_funcHooks['includeFeeds'] ) )
{
$count_887bce2d1e2aa68a01fe9b23a2e51438 = is_array($this->functionData['includeFeeds']) ? count($this->functionData['includeFeeds']) : 0;
$this->functionData['includeFeeds'][$count_887bce2d1e2aa68a01fe9b23a2e51438]['documentHeadItems'] = $documentHeadItems;
}
$IPBHTML .= "" . ((count($documentHeadItems)) ? ("
	".$this->__f__0acbf84b2e6beb9fecb4041ccc9b3a40($documentHeadItems)."") : ("")) . "";
return $IPBHTML;
}


function __f__c8b65ddf35ffa16879b2671076b95f14($documentHeadItems,$type='',$idx='')
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $documentHeadItems[ $type ] as $idx => $data )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
			" . (($type == 'javascript') ? ("
				<script type=\"text/javascript\" src=\"{$data}\" charset=\"<% CHARSET %>\"></script>
			") : ("")) . "
			" . (($type == 'rss') ? ("
				<link rel=\"alternate\" type=\"application/rss+xml\" title=\"{$data['title']}\" href=\"{$data['url']}\" />
			") : ("")) . "
			" . (($type == 'rsd') ? ("
				<link rel=\"EditURI\" type=\"application/rsd+xml\" title=\"{$data['title']}\" href=\"{$data['url']}\" />
			") : ("")) . "
			" . (($type == 'raw') ? ("
				{$data}
			") : ("")) . "
		
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__0acbf84b2e6beb9fecb4041ccc9b3a40($documentHeadItems)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $documentHeadItems as $type => $idx )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
		".$this->__f__c8b65ddf35ffa16879b2671076b95f14($documentHeadItems,$type,$idx)."	
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- includeJS --*/
function includeJS($jsModules) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_global', $this->_funcHooks['includeJS'] ) )
{
$count_0c06cc8e1033642040e1f2a887f3d7b8 = is_array($this->functionData['includeJS']) ? count($this->functionData['includeJS']) : 0;
$this->functionData['includeJS'][$count_0c06cc8e1033642040e1f2a887f3d7b8]['jsModules'] = $jsModules;
}
$IPBHTML .= "" . (($this->settings['use_minify']) ? ("" . (($this->settings['remote_load_js']) ? ("<script type='text/javascript' src='" . (($this->registry->output->isHTTPS) ? ("https") : ("http")) . "://ajax.googleapis.com/ajax/libs/prototype/1.7.1.0/prototype.js'></script>
		<script type='text/javascript' src='" . (($this->registry->output->isHTTPS) ? ("https") : ("http")) . "://ajax.googleapis.com/ajax/libs/scriptaculous/1.8/scriptaculous.js?load=effects,dragdrop,builder'></script>") : ("
		<script type='text/javascript' src='{$this->settings['js_base_url']}min/index.php?ipbv={$this->registry->output->antiCacheHash}&amp;g=js'></script>
	")) . "
	<script type='text/javascript' src='{$this->settings['js_base_url']}min/index.php?ipbv={$this->registry->output->antiCacheHash}&amp;charset={$this->settings['gb_char_set']}&amp;f=" . PUBLIC_DIRECTORY . "/js/ipb.js,cache/lang_cache/{$this->lang->lang_id}/ipb.lang.js," . PUBLIC_DIRECTORY . "/js/ips.hovercard.js," . PUBLIC_DIRECTORY . "/js/ips.quickpm.js" . ((count($jsModules)) ? ("," . PUBLIC_DIRECTORY . "/js/ips." . implode('.js,' . PUBLIC_DIRECTORY . '/js/ips.', array_unique( array_keys( $jsModules ) ) ) . ".js") : ("")) . "' charset='{$this->settings['gb_char_set']}'></script>") : ("" . (($this->settings['remote_load_js']) ? ("<script type='text/javascript' src='" . (($this->registry->output->isHTTPS) ? ("https") : ("http")) . "://ajax.googleapis.com/ajax/libs/prototype/1.7.1.0/prototype.js'></script>") : ("
		<script type='text/javascript' src='{$this->settings['js_base_url']}js/3rd_party/prototype.js'></script>
	")) . "
	<script type='text/javascript' src='{$this->settings['js_base_url']}js/ipb.js?ipbv={$this->registry->output->antiCacheHash}&amp;load=quickpm,hovercard," . implode(',', array_unique( array_keys( $jsModules ) ) ) . "'></script>
	" . (($this->settings['remote_load_js']) ? ("<script type='text/javascript' src='" . (($this->registry->output->isHTTPS) ? ("https") : ("http")) . "://ajax.googleapis.com/ajax/libs/scriptaculous/1.8/scriptaculous.js?load=effects,dragdrop,builder'></script>") : ("
		<script type='text/javascript' src='{$this->settings['js_base_url']}js/3rd_party/scriptaculous/scriptaculous-cache.js'></script>
	")) . "
	<script type=\"text/javascript\" src='{$this->settings['cache_dir']}lang_cache/{$this->lang->lang_id}/ipb.lang.js' charset='{$this->settings['gb_char_set']}'></script>")) . "
" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'liveEditJs' ) ? $this->registry->getClass('output')->getTemplate('global')->liveEditJs() : '' ) . "
" . (($this->registry->output->isLargeTouchDevice()) ? ("
<script type=\"text/javascript\" src='{$this->settings['js_base_url']}js/3rd_party/iscroll/iscroll.js'></script>
") : ("")) . "";
return $IPBHTML;
}

/* -- includeMeta --*/
function includeMeta($metaTags) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_global', $this->_funcHooks['includeMeta'] ) )
{
$count_cf539d488df0a37f178f25eba99bf960 = is_array($this->functionData['includeMeta']) ? count($this->functionData['includeMeta']) : 0;
$this->functionData['includeMeta'][$count_cf539d488df0a37f178f25eba99bf960]['metaTags'] = $metaTags;
}
$IPBHTML .= "" . ((is_array( $metaTags ) AND count( $metaTags )) ? ("
	".$this->__f__3e9cf03bb12133fcde93b9806970bdaa($metaTags)."") : ("")) . "
<meta property=\"og:image\" content=\"{$this->settings['meta_imagesrc']}\"/>";
return $IPBHTML;
}


function __f__dd2666a977d23181c0502201875ca105($metaTags,$tag='',$id='')
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $metaTags[ $tag ] as $content )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
		" . ((stristr( $tag, 'og:' )) ? ("
			<meta property=\"{$tag}\" content=\"{$content}\" />
		") : ("
			<meta name=\"{$tag}\" content=\"{$content}\" />
		")) . "
		" . (($tag == 'identifier-url') ? ("
			<meta property=\"og:url\" content=\"{$content}\" />
		") : ("")) . "
		" . (($tag == 'description') ? ("
			<meta property=\"og:description\" content=\"{$content}\" />
		") : ("")) . "
		
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__3e9cf03bb12133fcde93b9806970bdaa($metaTags)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $metaTags as $tag => $id )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
		".$this->__f__dd2666a977d23181c0502201875ca105($metaTags,$tag,$id)."	
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- includeRTL --*/
function includeRTL() {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_global', $this->_funcHooks['includeRTL'] ) )
{
$count_2c13280450ff947028cdec6029cfacab = is_array($this->functionData['includeRTL']) ? count($this->functionData['includeRTL']) : 0;
}

$this->isRtlLang	= false;
$IPBHTML .= "".$this->__f__6db4f8fa68ec93cb2fb7a16867ad695a()."" . (($this->isRtlLang AND is_file( DOC_IPS_ROOT_PATH . '/' . PUBLIC_DIRECTORY . '/style_css/' . $this->registry->output->skin['_csscacheid'] . '/ipb_rtl.css' )) ? ("
	<link rel=\"stylesheet\" type=\"text/css\" media=\"screen\" href=\"{$this->settings['public_dir']}style_css/{$this->registry->output->skin['_csscacheid']}/ipb_rtl.css\" />
	<script type='text/javascript'>
		var rtlFull	= \"{$this->settings['public_dir']}style_css/{$this->registry->output->skin['_csscacheid']}/ipb_rtl.css\";
		var isRTL	= true;
	</script>
") : ("" . (($this->isRtlLang AND is_file( DOC_IPS_ROOT_PATH . '/' . PUBLIC_DIRECTORY . '/style_css/ipb_rtl.css' )) ? ("
		<link rel=\"stylesheet\" type=\"text/css\" media=\"screen\" href=\"{$this->settings['public_dir']}style_css/ipb_rtl.css\" />
		<script type='text/javascript'>
			var rtlFull	= \"{$this->settings['public_dir']}style_css/ipb_rtl.css\";
			var isRTL	= true;
		</script>
	") : ("")) . "")) . "
" . (($this->isRtlLang AND is_file( DOC_IPS_ROOT_PATH . '/' . PUBLIC_DIRECTORY . '/style_css/' . $this->registry->output->skin['_csscacheid'] . '/ipb_rtl_ie.css' )) ? ("
	<!--[if lte IE 7]>
	<link rel=\"stylesheet\" type=\"text/css\" media=\"screen\" href=\"{$this->settings['public_dir']}style_css/{$this->registry->output->skin['_csscacheid']}/ipb_rtl_ie.css\" />
	<![endif]-->
	<script type='text/javascript'>
		var rtlIe	= \"{$this->settings['public_dir']}style_css/{$this->registry->output->skin['_csscacheid']}/ipb_rtl_ie.css\";
	</script>
") : ("" . (($this->isRtlLang AND is_file( DOC_IPS_ROOT_PATH . '/' . PUBLIC_DIRECTORY . '/style_css/ipb_rtl_ie.css' )) ? ("
		<!--[if lte IE 7]>
		<link rel=\"stylesheet\" type=\"text/css\" media=\"screen\" href=\"{$this->settings['public_dir']}style_css/ipb_rtl_ie.css\" />
		<![endif]-->
		<script type='text/javascript'>
			var rtlIe	= \"{$this->settings['public_dir']}style_css/ipb_rtl_ie.css\";
		</script>
	") : ("")) . "")) . "
" . (($this->settings['member_topic_avatar_max']) ? ("<!-- Forces topic photo to show without thumb -->
	<style type='text/css'>
		.ipsUserPhoto_variable { max-width: " . intval($this->settings['member_topic_avatar_max']) . "px !important; }
		" . (($this->isRtlLang) ? ("
			.post_body { margin-right: " . ((intval($this->settings['member_topic_avatar_max']  + 25 ) < 185 ) ? 185 : intval($this->settings['member_topic_avatar_max']  + 25 ) ) . "px !important; }
		") : ("
			.post_body { margin-left: " . ((intval($this->settings['member_topic_avatar_max']  + 25 ) < 185 ) ? 185 : intval($this->settings['member_topic_avatar_max']  + 25 ) ) . "px !important; }
		")) . "
	</style>") : ("")) . "";
return $IPBHTML;
}


function __f__6db4f8fa68ec93cb2fb7a16867ad695a()
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $this->cache->getCache('lang_data') as $data )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
	" . ((intval($this->member->language_id) == intval($data['lang_id'])) ? ("" . (($data['lang_isrtl']) ? ("" . (($this->isRtlLang = true) ? ("") : ("")) . "") : ("")) . "") : ("")) . "

";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- includeVars --*/
function includeVars($header_items=array()) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_global', $this->_funcHooks['includeVars'] ) )
{
$count_cc5dea852be1d9ad9ec1e8141bcb9d9a = is_array($this->functionData['includeVars']) ? count($this->functionData['includeVars']) : 0;
$this->functionData['includeVars'][$count_cc5dea852be1d9ad9ec1e8141bcb9d9a]['header_items'] = $header_items;
}
$IPBHTML .= "<script type='text/javascript'>
	//<![CDATA[
		/* ---- URLs ---- */
		ipb.vars['base_url'] 			= '" . (($this->registry->output->isHTTPS) ? ("" . str_replace( 'http://', 'https://', "{$this->settings['js_base']}" ) . "") : ("{$this->settings['js_base']}")) . "';
		ipb.vars['board_url']			= '{$this->settings['board_url']}';
		ipb.vars['img_url'] 			= \"{$this->settings['img_url']}\";
		ipb.vars['loading_img'] 		= '{$this->settings['img_url']}/loading.gif';
		ipb.vars['active_app']			= '{$this->registry->getCurrentApplication()}';
		ipb.vars['upload_url']			= '{$this->settings['upload_url']}';
		/* ---- Member ---- */
		ipb.vars['member_id']			= parseInt( {$this->memberData['member_id']} );
		ipb.vars['is_supmod']			= parseInt( " . intval($this->memberData['g_is_supmod']) . " );
		ipb.vars['is_admin']			= parseInt( {$this->memberData['g_access_cp']} );
		ipb.vars['secure_hash'] 		= '{$this->member->form_hash}';
		ipb.vars['session_id']			= '{$this->member->session_id}';
		ipb.vars['twitter_id']			= " . intval($this->memberData['twitter_id']) . ";
		ipb.vars['fb_uid']				= " . (($this->memberData['fb_token']) ? ("" . intval($this->memberData['fb_uid']) . "") : ("0")) . ";
		ipb.vars['auto_dst']			= parseInt( {$this->memberData['members_auto_dst']} );
		ipb.vars['dst_in_use']			= parseInt( {$this->memberData['dst_in_use']} );
		ipb.vars['is_touch']			= " . (($this->registry->output->isLargeTouchDevice()) ? ("'large';") : ("" . (($this->registry->output->isSmallTouchDevice()) ? ("'small';") : ("false;")) . "")) . "
		ipb.vars['member_group']		= " . json_encode( array( 'g_mem_info' => $this->memberData['g_mem_info'] ) ) . "
		/* ---- cookies ----- */
		ipb.vars['cookie_id'] 			= '{$this->settings['cookie_id']}';
		ipb.vars['cookie_domain'] 		= '{$this->settings['cookie_domain']}';
		ipb.vars['cookie_path']			= '{$this->settings['cookie_path']}';
		/* ---- Rate imgs ---- */
		ipb.vars['rate_img_on']			= '{$this->settings['img_url']}/star.png';
		ipb.vars['rate_img_off']		= '{$this->settings['img_url']}/star_off.png';
		ipb.vars['rate_img_rated']		= '{$this->settings['img_url']}/star_rated.png';
		/* ---- Uploads ---- */
		ipb.vars['swfupload_swf']		= '" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "js/3rd_party/swfupload/swfupload.swf", "public_dir",'' ), "", "" ) . "';
		ipb.vars['swfupload_enabled']	= " . (($this->settings['uploadFormType']) ? ("true") : ("false")) . ";
		ipb.vars['use_swf_upload']		= ( '{$this->memberData['member_uploader']}' == 'flash' ) ? true : false;
		ipb.vars['swfupload_debug']		= false;
		/* ---- other ---- */
		ipb.vars['highlight_color']     = \"#ade57a\";
		ipb.vars['charset']				= \"{$this->settings['gb_char_set']}\";
		ipb.vars['seo_enabled']			= " . intval($this->settings['use_friendly_urls']) . ";
		" . (($this->settings['use_friendly_urls']) ? ("
		ipb.vars['seo_params']			= " . json_encode($this->registry->getClass('output')->seoTemplates['__data__']) . ";
		") : ("")) . "
		/* Templates/Language */
		ipb.templates['inlineMsg']		= \"{$header_items['inlineMsg']}\";
		ipb.templates['ajax_loading'] 	= \"<div id='ajax_loading'><img src='{$this->settings['img_url']}/ajax_loading.gif' alt='\" + ipb.lang['loading'] + \"' /></div>\";
		ipb.templates['close_popup']	= \"<img src='{$this->settings['img_url']}/close_popup.png' alt='x' />\";
		ipb.templates['rss_shell']		= new Template(\"<ul id='rss_menu' class='ipbmenu_content'>#{items}</ul>\");
		ipb.templates['rss_item']		= new Template(\"<li><a href='#{url}' title='#{title}'>#{title}</a></li>\");
		" . (($this->memberData['member_id']) ? ("
			ipb.templates['m_add_friend']	= new Template(\"<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=profile&amp;section=friends&amp;do=add&amp;member_id=#{id}", "public",'' ), "", "" ) . "' title='{$this->lang->words['add_friend']}' class='ipsButton_secondary'>" . $this->registry->getClass('output')->getReplacement("add_friend") . "</a>\");
			ipb.templates['m_rem_friend']	= new Template(\"<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=profile&amp;section=friends&amp;do=remove&amp;member_id=#{id}", "public",'' ), "", "" ) . "' title='{$this->lang->words['remove_friend']}' class='ipsButton_secondary'>" . $this->registry->getClass('output')->getReplacement("remove_friend") . "</a>\");
		") : ("")) . "
		ipb.templates['autocomplete_wrap'] = new Template(\"<ul id='#{id}' class='ipb_autocomplete' style='width: 250px;'></ul>\");
		ipb.templates['autocomplete_item'] = new Template(\"<li id='#{id}' data-url='#{url}'><img src='#{img}' alt='' class='ipsUserPhoto ipsUserPhoto_mini' />&nbsp;&nbsp;#{itemvalue}</li>\");
		ipb.templates['page_jump']		= new Template(\"<div id='#{id}_wrap' class='ipbmenu_content'><h3 class='bar'>{$this->lang->words['global_page_jump']}</h3><p class='ipsPad'><input type='text' class='input_text' id='#{id}_input' size='8' /> <input type='submit' value='{$this->lang->words['jmp_go']}' class='input_submit add_folder' id='#{id}_submit' /></p></div>\");
		ipb.templates['global_notify'] 	= new Template(\"<div class='popupWrapper'><div class='popupInner'><div class='ipsPad'>#{message} #{close}</div></div></div>\");
		" . ((! empty( $header_items['notifications'] )) ? ("
			ipb.vars['notificationData']          = {$header_items['notifications']};
			ipb.templates['notificationTemplate'] = new Template( \"<div><h3>#{notify_title}</h3><div class='fixed_inner ipsPad row1'><h4 class='ipsType_sectiontitle'>#{member_PhotoTag} #{title} <span class='ipsType_smaller'>{$this->lang->words['by_ucfirst']} #{member_HoverCard} - #{date_parsed}</span><p class='ipsType_smaller right ipsPad_half'><a href='#{url}'>" . sprintf( $this->lang->words['global_pm_read_short'], '#{type}' ) . "</a></p></h4><p class='ipsPad_half'>#{content}</p></div></div>\");
		") : ("")) . "
		
		ipb.templates['header_menu'] 	= new Template(\"<div id='#{id}' class='ipsHeaderMenu boxShadow'></div>\");
		" . (($this->memberData['members_auto_dst'] == 1 AND $this->settings['time_dst_auto_correction']) ? ("
			ipb.global.checkDST();
		") : ("")) . "
		Loader.boot();
	//]]>
	</script>";
return $IPBHTML;
}

/* -- inlineLogin --*/
function inlineLogin() {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_global', $this->_funcHooks['inlineLogin'] ) )
{
$count_22bbe9eae9bdd0db1261ed4f300130be = is_array($this->functionData['inlineLogin']) ? count($this->functionData['inlineLogin']) : 0;
}

$uses_name		= false;
	$uses_email		= false;
	$_redirect		= '';
	$login_methods  = array();
	
	foreach( $this->cache->getCache('login_methods') as $method )
	{
		if( $method['login_user_id'] == 'username' or $method['login_user_id'] == 'either' )
		{
			$uses_name	= true;
		}
		
		if( $method['login_user_id'] == 'email' or $method['login_user_id'] == 'either' )
		{
			$uses_email	= true;
		}
		
		if( $method['login_login_url'] )
		{
			$_redirect	= $method['login_login_url'];
		}
		
		$login_methods[] = $method['login_folder_name'];
	}
	if( $uses_name AND $uses_email )
	{
		$this->lang->words['enter_name']	= $this->lang->words['enter_name_and_email'];
	}
	else if( $uses_email )
	{
		$this->lang->words['enter_name']	= $this->lang->words['enter_useremail'];
	}
	else
	{
		$this->lang->words['enter_name']	= $this->lang->words['enter_username'];
	}
$IPBHTML .= "" . ((!$_redirect) ? ("<div id='inline_login_form' style='display: none'>
		<form action=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=global&amp;section=login&amp;do=process", "public",'' ), "", "" ) . "\" method=\"post\" id='login'>
			<input type='hidden' name='auth_key' value='{$this->member->form_hash}' />
			<input type=\"hidden\" name=\"referer\" value=\"{$this->settings['this_url']}\" />
			<h3>{$this->lang->words['log_in']}</h3>
			" . ((IPSLib::loginMethod_enabled('facebook') || IPSLib::loginMethod_enabled('twitter') || IPSLib::loginMethod_enabled('live')) ? ("<div class='ipsBox_notice'>
					<ul class='ipsList_inline'>
						" . ((IPSLib::loginMethod_enabled('facebook')) ? ("
							<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=global&amp;section=login&amp;serviceClick=facebook", "public",'' ), "", "" ) . "\" class='ipsButton_secondary'><img src=\"{$this->settings['img_url']}/loginmethods/facebook.png\" alt=\"Facebook\" /> &nbsp; {$this->lang->words['use_facebook']}</a></li>
						") : ("")) . "
						" . ((IPSLib::loginMethod_enabled('twitter')) ? ("
							<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=global&amp;section=login&amp;serviceClick=twitter", "public",'' ), "", "" ) . "\" class='ipsButton_secondary'><img src=\"{$this->settings['img_url']}/loginmethods/twitter.png\" alt=\"Twitter\" /> &nbsp; {$this->lang->words['use_twitter']}</a></li>
						") : ("")) . "
						" . ((IPSLib::loginMethod_enabled('live')) ? ("
							<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=global&amp;section=login&amp;do=process&amp;use_live=1&amp;auth_key={$this->member->form_hash}", "public",'' ), "", "" ) . "' class='ipsButton_secondary'><img src=\"{$this->settings['img_url']}/loginmethods/windows.png\" alt=\"Windows Live\" /> &nbsp; {$this->lang->words['use_live']}</a></li>
						") : ("")) . "
					</ul>
				</div>") : ("")) . "
			<br />
			<div class='ipsForm ipsForm_horizontal'>
				<fieldset>
					<ul>
						<li class='ipsField'>
							<div class='ipsField_content'>
								{$this->lang->words['register_prompt_1']} <a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=global&amp;section=register", "public",'' ), "", "" ) . "\" title='{$this->lang->words['register_prompt_2']}'>{$this->lang->words['register_prompt_2']}</a>
							</div>
						</li>
						<li class='ipsField ipsField_primary'>
							<label for='ips_username' class='ipsField_title'>{$this->lang->words['enter_name']}</label>
							<div class='ipsField_content'>
								<input id='ips_username' type='text' class='input_text' name='ips_username' size='30' />
							</div>
						</li>
						<li class='ipsField ipsField_primary'>
							<label for='ips_password' class='ipsField_title'>{$this->lang->words['enter_pass']}</label>
							<div class='ipsField_content'>
								<input id='ips_password' type='password' class='input_text' name='ips_password' size='30' /><br />
								<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=global&amp;section=lostpass", "public",'' ), "", "" ) . "' title='{$this->lang->words['retrieve_pw']}'>{$this->lang->words['login_forgotten_pass']}</a>
							</div>
						</li>
						<li class='ipsField ipsField_checkbox'>
							<input type='checkbox' id='inline_remember' checked='checked' name='rememberMe' value='1' class='input_check' />
							<div class='ipsField_content'>
								<label for='inline_remember'>
									<strong>{$this->lang->words['rememberme']}</strong><br />
									<span class='desc lighter'>{$this->lang->words['notrecommended']}</span>
								</label>
							</div>
						</li>
						" . ((!$this->settings['disable_anonymous']) ? ("
							<li class='ipsField ipsField_checkbox'>
								<input type='checkbox' id='inline_invisible' name='anonymous' value='1' class='input_check' />
								<div class='ipsField_content'>
									<label for='inline_invisible'>
										<strong>{$this->lang->words['form_invisible']}</strong><br />
										<span class='desc lighter'>{$this->lang->words['anon_name']}</span>
									</label>
								</div>
							</li>
						") : ("")) . "
						" . (($this->settings['priv_title']) ? ("
						<li class='ipsPad_top ipsForm_center desc ipsType_smaller'>
							<a rel=\"nofollow\" href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=global&amp;section=privacy", "public",'' ), "false", "privacy" ) . "'>{$this->settings['priv_title']}</a>
						</li>
						") : ("")) . "
					</ul>
				</fieldset>
				
				<div class='ipsForm_submit ipsForm_center'>
					<input type='submit' class='ipsButton' value='{$this->lang->words['log_in']}' />
				</div>
			</div>
		</form>
	</div>") : ("
	<script type='text/javascript'>
		ipb.global.loginRedirect = \"{$_redirect}\";
	</script>
")) . "";
return $IPBHTML;
}

/* -- liveEditJs --*/
function liveEditJs() {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_global', $this->_funcHooks['liveEditJs'] ) )
{
$count_e9a4cb794c41c4bcccacc32bbc016e53 = is_array($this->functionData['liveEditJs']) ? count($this->functionData['liveEditJs']) : 0;
}
$IPBHTML .= "" . ((defined( 'IPS_LIVE_EDIT') && IPS_LIVE_EDIT) ? ("<script type='text/javascript'>	
		skingen_imgs = \"{$this->settings['public_dir']}style_extra/skin_creator\";
		" . ((! empty( $this->registry->output->skinGenSession['skin_gen_data'] )) ? ("
		var IPS_SKIN_GEN_SAVED_DATA = " . json_encode( $this->registry->output->skinGenSession['skin_gen_data'] ) . ";
		") : ("")) . "
	</script>
	<link rel=\"stylesheet\" href=\"{$this->settings['public_dir']}style_css/skin_creator.css\" type=\"text/css\"  media=\"screen\" />
	<link rel=\"stylesheet\" href=\"{$this->settings['js_base_url']}js/3rd_party/prototype/colorpicker/css/prototype_colorpicker.css\" type=\"text/css\"  media=\"screen\" />
	<script type=\"text/javascript\" src=\"{$this->settings['js_base_url']}js/3rd_party/prototype/colorpicker/js/prototype_colorpicker.js\"></script>
	<script type=\"text/javascript\" src=\"{$this->settings['cache_dir']}skinGenJsonCache.js\"></script>
	<script type=\"text/javascript\" src=\"{$this->settings['js_base_url']}js/ips.skin_gen.js\"></script>") : ("")) . "";
return $IPBHTML;
}

/* -- metaEditor --*/
function metaEditor($tags, $url) {
$IPBHTML = "";
$IPBHTML .= "<div class='ipsFloatingAction left' id='seoMetaTagEditor'>
<div class='ipsBox ipsPad'>
	
	<h2 class='ipsType_subtitle left'>{$this->lang->words['meta_editor_title']}</h2>
	
	<span class='right'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&module=global&section=meta&do=end&url=" . urlencode($url) . "", "public",'' ), "", "" ) . "'><img src=\"{$this->settings['img_url']}/close_popup.png\" alt=\"X\" /></a></span>
	
	<br class='clear' />
	
	<form action='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&module=global&section=meta&do=save", "public",'' ), "", "" ) . "' method='post'>
		<input type='hidden' name='url' value='{$url}' />
		<table class='ipb_table'>
			<tr>
				<th>{$this->lang->words['meta_tag_title']}<br /><span class='desc ipsType_smallest'>{$this->lang->words['meta_tag_title_desc']}</span></th>
				<th>{$this->lang->words['meta_tag_content']}</th>
			</tr>
		</table>
		<div style='max-height: 150px' class='fixed_inner'>
		<table class='ipb_table'>
			".$this->__f__4ec250c1da8d78ccbf105fe38d613edb($tags,$url)."		</table>
		</div>
		<table class='ipb_table'>
			<tr>
				<td><input name='meta-tags-title[]'  class='input_text' /></td>
				<td><input name='meta-tags-content[]' class='input_text' /></td>
			</tr>
			<tr>
				<td colspan='2'>
					<input type='submit' class='ipsButton right clickable' value='{$this->lang->words['meta_save']}' />
				</td>
			</tr>
		</table>
	</form>
	
</div>
</div>";
return $IPBHTML;
}


function __f__4ec250c1da8d78ccbf105fe38d613edb($tags, $url)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $tags as $k => $v )
	{
		
$_metaTagId++;

		$__iteratorCount++;
		$_ips___x_retval .= "
				" . (($k != 'identifier-url') ? ("
					<tr>
						<td><input name='meta-tags-title[]' value='{$k}' class='input_text' /></td>
						<td><input name='meta-tags-content[]' value='{$v}' class='input_text' /></td>
					</tr>
									") : ("")) . "
			
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- nextPreviousTemplate --*/
function nextPreviousTemplate($data) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_global', $this->_funcHooks['nextPreviousTemplate'] ) )
{
$count_ec699a3cf53c6070a8e27ace5a34103d = is_array($this->functionData['nextPreviousTemplate']) ? count($this->functionData['nextPreviousTemplate']) : 0;
$this->functionData['nextPreviousTemplate'][$count_ec699a3cf53c6070a8e27ace5a34103d]['data'] = $data;
}
$IPBHTML .= "" . (($data['totalItems'] > $data['itemsPerPage']) ? ("<div class='left pagination clear'>
		<ul class='ipsList_inline back forward'>
			" . (($data['_hasPrevious']) ? ("<li class='prev'>
					" . (($data['ajaxLoad']) ? ("
						<a href=\"#\" onclick=\"return ipb.global.ajaxPagination( '{$data['ajaxLoad']}', '" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$data['baseUrl']}&amp;secure_key={$this->member->form_hash}&amp;{$data['startValueKey']}=" . intval( $data['currentStartValue'] - $data['itemsPerPage'] ) . "", "{$data['base']}",'' ), "{$data['seoTitle']}", "{$data['seoTemplate']}" ) . "{$data['anchor']}' );\" title=\"{$this->lang->words['tpl_prev']}\" rel='prev'>{$this->lang->words['_larr']} {$this->lang->words['prev']}</a>
					") : ("
						<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$data['baseUrl']}&amp;{$data['startValueKey']}=" . intval( $data['currentStartValue'] - $data['itemsPerPage'] ) . "", "{$data['base']}",'' ), "{$data['seoTitle']}", "{$data['seoTemplate']}" ) . "{$data['anchor']}\" title=\"{$this->lang->words['tpl_prev']}\" rel='prev'>{$this->lang->words['_larr']} {$this->lang->words['prev']}</a>
					")) . "
				</li>") : ("")) . "
			" . (($data['_hasNext']) ? ("<li class='next'>
					" . (($data['ajaxLoad']) ? ("
						<a href=\"#\" onclick=\"return ipb.global.ajaxPagination( '{$data['ajaxLoad']}', '" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$data['baseUrl']}&amp;secure_key={$this->member->form_hash}&amp;{$data['startValueKey']}=" . intval( $data['currentStartValue'] + $data['itemsPerPage'] ) . "", "{$data['base']}",'' ), "{$data['seoTitle']}", "{$data['seoTemplate']}" ) . "{$data['anchor']}' );\" title=\"{$this->lang->words['tpl_next']}\" rel='next'>{$this->lang->words['next']} {$this->lang->words['_rarr']}</a>
					") : ("
						<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$data['baseUrl']}&amp;{$data['startValueKey']}=" . intval( $data['currentStartValue'] + $data['itemsPerPage'] ) . "", "{$data['base']}",'' ), "{$data['seoTitle']}", "{$data['seoTemplate']}" ) . "{$data['anchor']}\" title=\"{$this->lang->words['tpl_next']}\" rel='next'>{$this->lang->words['next']} {$this->lang->words['_rarr']}</a>
					")) . "
				</li>") : ("")) . "
		</ul>
	</div>") : ("")) . "";
return $IPBHTML;
}

/* -- paginationTemplate --*/
function paginationTemplate($work, $data) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_global', $this->_funcHooks['paginationTemplate'] ) )
{
$count_98519eb322017bd23381b523cc0d70e9 = is_array($this->functionData['paginationTemplate']) ? count($this->functionData['paginationTemplate']) : 0;
$this->functionData['paginationTemplate'][$count_98519eb322017bd23381b523cc0d70e9]['work'] = $work;
$this->functionData['paginationTemplate'][$count_98519eb322017bd23381b523cc0d70e9]['data'] = $data;
}
$IPBHTML .= "" . (($work['pages'] > 1) ? ("<div class='pagination clearfix left " . ((!$data['showNumbers']) ? ("no_numbers") : ("")) . "'>
		<ul class='ipsList_inline back left'>
			" . ((1 < ($work['current_page'] - $data['dotsSkip'])) ? ("
				<li class='first'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$data['baseUrl']}&amp;{$this->registry->output->generatePaginationUrlBit(0, $data)}", "{$data['base']}",'' ), "{$data['seoTitle']}", "{$data['seoTemplate']}" ) . "{$data['anchor']}' title='{$data['realTitle']} - {$this->lang->words['tpl_gotofirst']}' rel='start'>{$this->lang->words['_laquo']} <!--{$this->lang->words['ps_first']}--></a></li>
			") : ("")) . "
			" . (($work['current_page'] > 1) ? ("
				<li class='prev'><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$data['baseUrl']}&amp;{$this->registry->output->generatePaginationUrlBit( intval( $data['currentStartValue'] - $data['itemsPerPage'] ), $data )}", "{$data['base']}",'' ), "{$data['seoTitle']}", "{$data['seoTemplate']}" ) . "{$data['anchor']}\" title=\"{$data['realTitle']} - {$this->lang->words['tpl_prev']}\" rel='prev'>{$this->lang->words['prev']}</a></li>
			") : ("")) . "
		</ul>
		<ul class='ipsList_inline left pages'>
			" . (($this->request['module'] != 'ajax' AND !$data['noDropdown']) ? ("<li class='pagejump clickable pj{$data['uniqid']}'>
					<a href='#'>" . sprintf( $this->lang->words['tpl_pages'], $work['current_page'], $work['pages'] ) . " <!--" . $this->registry->getClass('output')->getReplacement("dropdown") . "--></a>
					<script type='text/javascript'>
						ipb.global.registerPageJump( '{$data['uniqid']}', { url: \"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$data['baseUrl']}", "{$data['base']}",'' ), "{$data['seoTitle']}", "{$data['seoTemplate']}" ) . "" . (($data['isFriendly']) ? ("/") : ("")) . "\", stKey: '{$data['startValueKey']}', perPage: {$data['itemsPerPage']}, totalPages: {$work['pages']}, anchor: '{$data['anchor']}' } );
					</script>
				</li>") : ("
				<li class='pagejump'>
					" . sprintf( $this->lang->words['tpl_pages'], $work['current_page'], $work['pages'] ) . "
				</li>
			")) . "
			" . ((is_array( $work['_pageNumbers'] ) && count( $work['_pageNumbers'] )) ? ("
				".$this->__f__50e7e6bbdf85950008c4dab214e8ff9d($work,$data)."			") : ("")) . "
		</ul>
		<ul class='ipsList_inline forward left'>
			" . (($work['current_page'] < $work['pages']) ? ("
				<li class='next'><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$data['baseUrl']}&amp;{$this->registry->output->generatePaginationUrlBit( intval( $data['currentStartValue'] + $data['itemsPerPage'] ), $data )}", "{$data['base']}",'' ), "{$data['seoTitle']}", "{$data['seoTemplate']}" ) . "{$data['anchor']}\" title=\"{$data['realTitle']} - {$this->lang->words['tpl_next']}\" rel='next'>{$this->lang->words['next']}</a></li>
			") : ("")) . "
			" . ((!empty( $work['_showEndDots'] )) ? ("
				<li class='last'><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$data['baseUrl']}&amp;{$this->registry->output->generatePaginationUrlBit( intval( ( $work['pages'] - 1 ) * $data['itemsPerPage'] ), $data )}", "{$data['base']}",'' ), "{$data['seoTitle']}", "{$data['seoTemplate']}" ) . "{$data['anchor']}\" title=\"{$data['realTitle']} - {$this->lang->words['tpl_gotolast']}\" rel='last'>{$this->lang->words['_raquo']}</a></li>
			") : ("")) . "
		</ul>
	</div>") : ("" . ((!$data['disableSinglePage']) ? ("
		<p class='pagination no_pages left ipsType_small'><span>{$this->lang->words['page_1_of_1']}</span></p>
	") : ("")) . "")) . "";
return $IPBHTML;
}


function __f__50e7e6bbdf85950008c4dab214e8ff9d($work, $data)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $work['_pageNumbers'] as $_real => $_page )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
					" . (($_real == $data['currentStartValue']) ? ("
						<li class='page active'>{$_page}</li>
					") : ("<li class='page'>
							" . (($_real >= 1) ? ("<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$data['baseUrl']}&amp;{$this->registry->output->generatePaginationUrlBit( $_real, $data )}", "{$data['base']}",'' ), "{$data['seoTitle']}", "{$data['seoTemplate']}" ) . "{$data['anchor']}\" title=\"" . (($data['realTitle']) ? ("" . sprintf( $this->lang->words['page_title_text'],$data['realTitle'],$_page) . "") : ("$_page")) . "\">{$_page}</a>") : ("<a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "{$data['baseUrl']}", "{$data['base']}",'' ), "{$data['seoTitle']}", "{$data['seoTemplate']}" ) . "{$data['anchor']}\" title=\"" . (($data['realTitle']) ? ("" . sprintf( $this->lang->words['page_title_text'],$data['realTitle'],$_page) . "") : ("$_page")) . "\">{$_page}</a>")) . "
						</li>")) . "
				
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- quickSearch --*/
function quickSearch() {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_global', $this->_funcHooks['quickSearch'] ) )
{
$count_ad3beb6436b22c055d410d103a396c50 = is_array($this->functionData['quickSearch']) ? count($this->functionData['quickSearch']) : 0;
}
$IPBHTML .= "<div id='search' class='right'>
	<form action=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;do=search&amp;fromMainBar=1", "public",'' ), "", "" ) . "\" method=\"post\" id='search-box' >
		<fieldset>
			<label for='main_search' class='hide'>{$this->lang->words['sj_search']}</label>
			<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=core&amp;module=search&amp;search_in=" . ((isset($this->request['search_app']) AND $this->request['search_app']) ? ("{$this->request['search_app']}") : ("{$this->registry->getCurrentApplication()}")) . "", "public",'' ), "", "" ) . "' title='{$this->lang->words['advanced_search']}' accesskey='4' rel=\"search\" id='adv_search' class='right'>{$this->lang->words['advanced']}</a>
			<span id='search_wrap' class='right'>
				<input type='text' id='main_search' name='search_term' class='inactive' size='17' tabindex='100' />
				<span class='choice ipbmenu clickable' id='search_options' style='display: none'></span>
				<ul id='search_options_menucontent' class='ipbmenu_content ipsPad' style='display: none'>
					<li class='title'><strong>{$this->lang->words['context_search_title']}</strong></li>
					" . (($this->request['showtopic'] or ( isset( $this->request['search_app'] ) and substr( $_POST['search_app'], 0, 13 ) == 'forums:topic:' )) ? ("<li class='special'>
							<label for='s_topic' title='{$this->lang->words['context_search_topic']}'>
								" . (($this->request['showtopic']) ? ("
									<input type='radio' name='search_app' value=\"forums:topic:{$this->request['showtopic']}\" class='input_radio' id='s_topic' checked=\"checked\" /> 
								") : ("
									<input type='radio' name='search_app' value=\"forums:topic:" . substr( $_POST['search_app'], 13 ) . "\" class='input_radio' id='s_topic' checked=\"checked\" /> 
								")) . "
								<strong>{$this->lang->words['context_search_topic']}</strong>
							</label>
						</li>") : ("")) . "
					" . ((( $this->request['showforum'] AND $this->registry->getClass('class_forums')->forum_by_id[ $this->request['showforum'] ]['sub_can_post'] ) or ( isset( $this->request['search_app'] ) and substr( $_POST['search_app'], 0, 13 ) == 'forums:forum:' )) ? ("<li class='special'>
							<label for='s_forum' title='{$this->lang->words['context_search_forum']}'>
								" . (($this->request['showforum']) ? ("<input type='radio' name='search_app' value=\"forums:forum:{$this->request['f']}\" class='input_radio' id='s_forum' " . ((!$this->request['showtopic']) ? ("checked=\"checked\"") : ("")) . " />") : ("
									<input type='radio' name='search_app' value=\"forums:forum:" . substr( $_POST['search_app'], 13 ) . "\" class='input_radio' id='s_forum' checked=\"checked\" /> 
								")) . "
								<strong>{$this->lang->words['context_search_forum']}</strong>
							</label>
						</li>") : ("")) . "
					" . (($this->request['app'] == 'core' and $this->request['module'] == 'search') ? ("
						" . ( method_exists( $this->registry->getClass('output')->getTemplate(''.$this->request['search_app'].'_global'), 'contextSearch' ) ? $this->registry->getClass('output')->getTemplate(''.$this->request['search_app'].'_global')->contextSearch() : '' ) . "
					") : ("" . ((!in_array( $this->registry->getCurrentApplication(), array( 'forums', 'members', 'core' ) )) ? ("" . ((method_exists( $this->registry->output->getTemplate( $this->registry->getCurrentApplication() . '_global' ), 'contextSearch' )) ? ("
								" . ( method_exists( $this->registry->getClass('output')->getTemplate(''.$this->registry->getCurrentApplication().'_global'), 'contextSearch' ) ? $this->registry->getClass('output')->getTemplate(''.$this->registry->getCurrentApplication().'_global')->contextSearch() : '' ) . "
							") : ("")) . "") : ("")) . "")) . "
					" . ((IPSLib::appIsSearchable( 'forums', 'search' )) ? ("<li class='app'><label for='s_forums' title='" . IPSLib::getAppTitle('forums') . "'><input type='radio' name='search_app' class='input_radio' id='s_forums' value=\"forums\" " . ((( ( isset($this->request['search_app']) AND $this->request['search_app'] == 'forums' ) ) || ( !IPSLib::appIsSearchable( $this->registry->getCurrentApplication(), 'search' ) ) || ( ( $this->registry->getCurrentApplication() == 'forums' ) && ! $this->request['search_app'] ) && !$this->request['showtopic'] && !$this->request['showforum']) ? ("" . ((substr( $_POST['search_app'], 0, 13 ) != 'forums:topic:' and substr( $_POST['search_app'], 0, 13 ) != 'forums:forum:') ? ("checked=\"checked\"") : ("")) . "") : ("")) . " />" . IPSLib::getAppTitle( 'forums' ) . "</label></li>") : ("")) . "" . ((IPSLib::appIsSearchable( 'members', 'search' )) ? ("<li class='app'><label for='s_members' title='" . IPSLib::getAppTitle('members') . "'><input type='radio' name='search_app' class='input_radio' id='s_members' value=\"members\" " . ((( ( isset($this->request['search_app']) AND $this->request['search_app'] == 'members' ) ) || ( ( $this->registry->getCurrentApplication() == 'members' ) && ! $this->request['search_app'] ) && !$this->request['showtopic'] && !$this->request['showforum']) ? ("checked=\"checked\"") : ("")) . " />" . IPSLib::getAppTitle( 'members' ) . "</label></li>") : ("")) . "" . ((IPSLib::appIsSearchable( 'core', 'search' )) ? ("<li class='app'><label for='s_core' title='" . IPSLib::getAppTitle('core') . "'><input type='radio' name='search_app' class='input_radio' id='s_core' value=\"core\" " . ((( ( isset($this->request['search_app']) AND $this->request['search_app'] == 'core' ) ) || ( ( $this->registry->getCurrentApplication() == 'core' ) && ! $this->request['search_app'] ) && !$this->request['showtopic'] && !$this->request['showforum']) ? ("checked=\"checked\"") : ("")) . " />" . IPSLib::getAppTitle( 'core' ) . "</label></li>") : ("")) . "".$this->__f__3ddd780c5104620c8ce911d71a25638d()."				</ul>
				<input type='submit' class='submit_input clickable' value='{$this->lang->words['sj_search']}' />
			</span>
			
		</fieldset>
	</form>
</div>";
return $IPBHTML;
}


function __f__3ddd780c5104620c8ce911d71a25638d()
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $this->registry->getApplications() as $app => $data )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "				
						" . ((IPSLib::appIsSearchable( $app, 'search' ) AND !in_array( $app, array( 'forums', 'members', 'core' ) )) ? ("<li class='app'>
								<label for='s_{$app}' title='" . IPSLib::getAppTitle( $app ) . "'>
									" . (($this->request['app'] == 'core' and $this->request['module'] == 'search') ? ("<input type='radio' name='search_app' class='input_radio' id='s_{$app}' value=\"{$app}\" " . ((( ( isset($this->request['search_app']) AND $this->request['search_app'] == $app ) || ( !IPSLib::appIsSearchable( $this->registry->getCurrentApplication(), 'search' ) AND $app == 'core' ) || ( ( $this->registry->getCurrentApplication() == $app ) && ( !isset($this->request['search_app']) OR !$this->request['search_app'] ) ) ) && !$this->request['showtopic'] && !$this->request['showforum'] && ( !method_exists( $this->registry->output->getTemplate( $this->request['search_app'] . '_global' ), 'contextSearch' ) or ipsRegistry::$appSearch )) ? ("checked=\"checked\"") : ("")) . " />") : ("<input type='radio' name='search_app' class='input_radio' id='s_{$app}' value=\"{$app}\" " . ((( ( isset($this->request['search_app']) AND $this->request['search_app'] == $app ) || ( !IPSLib::appIsSearchable( $this->registry->getCurrentApplication(), 'search' ) AND $app == 'core' ) || ( ( $this->registry->getCurrentApplication() == $app ) && ( !isset($this->request['search_app']) OR !$this->request['search_app'] ) ) ) && !$this->request['showtopic'] && !$this->request['showforum'] && ( !method_exists( $this->registry->output->getTemplate( $this->registry->getCurrentApplication() . '_global' ), 'contextSearch' ) or ipsRegistry::$appSearch )) ? ("checked=\"checked\"") : ("")) . " />")) . "
									" . IPSLib::getAppTitle( $app ) . "
								</label>
							</li>") : ("")) . "
					
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- shareLinks --*/
function shareLinks($links, $title='', $url='', $cssClass='topic_share left') {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_global', $this->_funcHooks['shareLinks'] ) )
{
$count_e3b9eee703f322b1fdf7efe9d55169be = is_array($this->functionData['shareLinks']) ? count($this->functionData['shareLinks']) : 0;
$this->functionData['shareLinks'][$count_e3b9eee703f322b1fdf7efe9d55169be]['links'] = $links;
$this->functionData['shareLinks'][$count_e3b9eee703f322b1fdf7efe9d55169be]['title'] = $title;
$this->functionData['shareLinks'][$count_e3b9eee703f322b1fdf7efe9d55169be]['url'] = $url;
$this->functionData['shareLinks'][$count_e3b9eee703f322b1fdf7efe9d55169be]['cssClass'] = $cssClass;
}
$IPBHTML .= "" . $this->registry->getClass('output')->addJSModule("sharelinks", "0" ) . "
" . ((is_array( $links )) ? ("
	<ul class='{$cssClass} shareButtons ipsList_inline'>
	".$this->__f__94dc82cf39597f764604262d7642b75a($links,$title,$url,$cssClass)."	</ul>
	<script type=\"text/javascript\">
		ipb.sharelinks.url   = \"" . IPSText::base64_decode_urlSafe($url) . "\";
		ipb.sharelinks.title = \"" . IPSText::base64_decode_urlSafe( IPSText::htmlspecialchars( $title ) ) . "\";
		ipb.sharelinks.bname = \"" . trim(addslashes($this->settings['board_name'])) . "\";
	</script>
") : ("")) . "";
return $IPBHTML;
}


function __f__94dc82cf39597f764604262d7642b75a($links, $title='', $url='', $cssClass='topic_share left')
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $links as $id => $data )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
		" . (($data['share_enabled']) ? ("" . (($data['customOutput'] and is_array( $data['customOutput'] )) ? ("
				" . $this->registry->output->getTemplate($data['customOutput'][0])->$data['customOutput'][1]( $data['_rawUrl'], $title, $data['customOutput'][2] ) . "
			") : ("<li><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "sharelink={$data['share_key']};{$data['_url']};{$title}", "public",'' ), "", "" ) . "" . (($data['overrideApp']) ? ("&amp;overrideApp={$data['overrideApp']}") : ("")) . "\" rel=\"nofollow\" target=\"_blank\" title=\"" . ((isset( $this->lang->words['gbl_sharelink_with_' . $data['share_key'] ] )) ? ("{$this->lang->words['gbl_sharelink_with_' . $data['share_key'] ]}") : ("{$this->lang->words['gbl_sharelink_with']} {$data['share_title']}")) . "\" class='_slink' id='slink_{$data['share_key']}'><img src=\"{$this->settings['public_cdn_url']}style_extra/sharelinks/{$data['share_key']}.png\" /></a></li>")) . "") : ("")) . "
	
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- signature_separator --*/
function signature_separator($sig="") {
$IPBHTML = "";
$IPBHTML .= "<div class=\"signature\">
<br />
" . $this->registry->getClass('output')->getReplacement("sig") . "
<br />
{$sig}
</div>";
return $IPBHTML;
}

/* -- userHoverCard --*/
function userHoverCard($member=array()) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_global', $this->_funcHooks['userHoverCard'] ) )
{
$count_fee5bcf3ca706ce2a1b66e1fff234c5a = is_array($this->functionData['userHoverCard']) ? count($this->functionData['userHoverCard']) : 0;
$this->functionData['userHoverCard'][$count_fee5bcf3ca706ce2a1b66e1fff234c5a]['member'] = $member;
}
$IPBHTML .= "" . (($member['member_id'] && ( $this->memberData['g_is_supmod'] || ($this->memberData['g_mem_info'] && ! IPSMember::isInactive($member) ) )) ? ("<a hovercard-ref=\"member\" hovercard-id=\"{$member['member_id']}\" class=\"_hovertrigger url fn name " . ((isset($member['_hoverClass'])) ? (" {$member['_hoverClass']}") : ("")) . "\" href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$member['member_id']}", "public",'' ), "{$member['members_seo_name']}", "showuser" ) . "' title='" . ((!empty($member['_hoverTitle'])) ? ("{$member['_hoverTitle']}") : ("{$this->lang->words['view_profile']}")) . "'><span itemprop=\"name\">{$member['members_display_name']}</span></a>") : ("
	{$member['members_display_name']}
")) . "";
return $IPBHTML;
}

/* -- userInfoPane --*/
function userInfoPane($author, $contentid, $options) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_global', $this->_funcHooks['userInfoPane'] ) )
{
$count_50c032bdc7c135c1ec0df0f77e134102 = is_array($this->functionData['userInfoPane']) ? count($this->functionData['userInfoPane']) : 0;
$this->functionData['userInfoPane'][$count_50c032bdc7c135c1ec0df0f77e134102]['author'] = $author;
$this->functionData['userInfoPane'][$count_50c032bdc7c135c1ec0df0f77e134102]['contentid'] = $contentid;
$this->functionData['userInfoPane'][$count_50c032bdc7c135c1ec0df0f77e134102]['options'] = $options;
}
$IPBHTML .= "<ul class='user_details'>
		" . (($author['member_id'] AND $author['avatar'] AND !strpos($author['avatar'], 'blank_avatar.gif')) ? ("
               <li class='avatar'><a href=\"" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$author['member_id']}", "public",'' ), "{$author['members_seo_name']}", "showuser" ) . "\" title=\"{$this->lang->words['view_profile']}\">{$author['avatar']}</a></li>
          ") : ("
               <li class='avatar'><img src='{$this->settings['img_url']}/noavatar.png' alt=''></li>
          ")) . "
		" . (($author['title']) ? ("
			<li class='title'>{$author['title']}</li>
		") : ("")) . "
		" . (($author['member_rank_img']) ? ("<li class='group_icon'>
			" . (($author['member_rank_img_i'] == 'img') ? ("
				<img src='{$author['member_rank_img']}' alt='' />
			") : ("
				{$author['member_rank_img']}
			")) . "
			</li>") : ("")) . "
	</ul>
	<div style='margin: 0 auto;'>
		" . (($this->memberData['member_id'] != $author['member_id'] OR ($author['has_blog'] AND IPSLib::appIsInstalled( 'blog' )) OR ($author['has_gallery'] AND IPSLib::appIsInstalled( 'gallery' ))) ? ("<ul class='user_controls clear'>
				" . (($this->memberData['member_id'] AND $this->memberData['member_id'] != $author['member_id'] && $this->settings['friends_enabled'] AND $this->memberData['g_can_add_friends'] && $author['member_id']) ? ("" . ((IPSMember::checkFriendStatus( $author['member_id'] )) ? ("
						<li class='mini_friend_toggle is_friend' id='friend_{$contentid}_{$author['member_id']}'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=profile&amp;section=friends&amp;do=remove&amp;member_id={$author['member_id']}&amp;secure_key={$this->member->form_hash}", "public",'' ), "", "" ) . "' title='{$this->lang->words['remove_friend']}'>" . $this->registry->getClass('output')->getReplacement("remove_friend") . "</a></li>
					") : ("
						<li class='mini_friend_toggle is_not_friend' id='friend_{$contentid}_{$author['member_id']}'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=profile&amp;section=friends&amp;do=add&amp;member_id={$author['member_id']}&amp;secure_key={$this->member->form_hash}", "public",'' ), "", "" ) . "' title='{$this->lang->words['add_friend']}'>" . $this->registry->getClass('output')->getReplacement("add_friend") . "</a></li>
					")) . "") : ("")) . "
				" . (($this->memberData['g_use_pm'] AND $this->memberData['member_id'] != $author['member_id'] AND $this->memberData['members_disable_pm'] == 0 AND IPSLib::moduleIsEnabled( 'messaging', 'members' ) && $author['member_id']) ? ("
					<li class='pm_button' id='pm_{$contentid}_{$author['member_id']}'><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=messaging&amp;section=send&amp;do=form&amp;fromMemberID={$author['member_id']}", "public",'' ), "", "" ) . "' title='{$this->lang->words['pm_member']}'>" . $this->registry->getClass('output')->getReplacement("send_msg") . "</a></li>
				") : ("")) . "
				" . (($author['has_blog'] AND IPSLib::appIsInstalled( 'blog' )) ? ("
					<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=blog&amp;show_members_blogs={$author['member_id']}", "public",'' ), "", "" ) . "' title='{$this->lang->words['view_blog']}'>" . $this->registry->getClass('output')->getReplacement("blog_link") . "</a></li>
				") : ("")) . "
				" . (($author['has_gallery'] AND IPSLib::appIsInstalled( 'gallery' )) ? ("
					<li><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=gallery&amp;module=user&amp;section=user&amp;user={$author['member_id']}", "public",'' ), "", "" ) . "' title='{$this->lang->words['view_gallery']}'>" . $this->registry->getClass('output')->getReplacement("gallery_link") . "</a></li>
				") : ("")) . "
			</ul>") : ("")) . "
	</div>
	<ul class='user_fields'>
		<li>
			<span class='ft'>{$this->lang->words['m_group']}</span>
			<span class='fc'>{$author['_group_formatted']}</span>
		</li>
		" . (($author['member_id']) ? ("
			<li>
				<span class='ft'>{$this->lang->words['m_posts']}</span>
				<span class='fc'>" . $this->registry->getClass('class_localization')->formatNumber( intval( $author['posts'] ) ) . "</span>
			</li>
			<li>
				<span class='ft'>{$this->lang->words['m_joined']}</span>
				<span class='fc'>" . $this->registry->getClass('class_localization')->getDate($author['joined'],"joined", 0) . "</span>
			</li>
		") : ("")) . "
		" . (($author['custom_fields'] != "") ? ("
			".$this->__f__9dcb10bbb3b2bd8ee72ba3db8b2ce635($author,$contentid,$options)."		") : ("")) . "
	</ul>
	" . (($author['warn_percent'] !== NULL) ? ("<br class='clear' />
		<div class='warn_panel clear rounded'>
			" . (($this->settings['warn_show_rating']) ? ("<strong><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=warn&amp;section=warn&amp;do=view&amp;mid={$author['member_id']}", "public",'' ), "", "" ) . "' id='warn_link_{$contentid}_{$author['member_id']}' title='{$this->lang->words['warn_view_history']}' class='warn_link'>{$this->lang->words['warn_status']}</a></strong>
				<p class='rating_mode user_warn' title='{$this->lang->words['warn_level']} {$author['warn_percent']}%'>
					" . (($author['can_edit_warn']) ? ("
						<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=warn&amp;section=warn&amp;type=minus&amp;mid={$author['member_id']}&amp;t=0&amp;st=0", "public",'' ), "", "" ) . "' title='{$this->lang->words['warn_decrease']}'><img src='{$this->settings['img_url']}/warn_minus.gif' alt='{$this->lang->words['minus']}' class='warn_edit down'  /></a>
					") : ("")) . "
					&lt;&nbsp;{$this->settings['warn_min']} ( {$author['warn_level']} ) {$this->settings['warn_max']}&nbsp;&gt;
					" . (($author['can_edit_warn']) ? ("
						<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=warn&amp;section=warn&amp;type=add&amp;mid={$author['member_id']}&amp;t={$this->request['t']}&amp;st={$this->request['st']}", "public",'' ), "", "" ) . "' title='{$this->lang->words['warn_increase']}'><img src='{$this->settings['img_url']}/warn_add.gif' alt='{$this->lang->words['add']}' class='warn_edit up' /></a>
					") : ("")) . "
				</p>") : ("" . (($author['can_edit_warn']) ? ("
					<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=warn&amp;section=warn&amp;type=add&amp;mid={$author['member_id']}&amp;t={$this->request['t']}&amp;st={$this->request['st']}", "public",'' ), "", "" ) . "' title='{$this->lang->words['warn_increase']}'><img src='{$this->settings['img_url']}/warn_add.gif' alt='{$this->lang->words['add']}' class='warn_edit up' /></a><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=warn&amp;section=warn&amp;type=minus&amp;mid={$author['member_id']}&amp;t=0&amp;st=0", "public",'' ), "", "" ) . "' title='{$this->lang->words['warn_decrease']}'><img src='{$this->settings['img_url']}/warn_minus.gif' alt='{$this->lang->words['minus']}' class='warn_edit down'  /></a>
				") : ("")) . "
					<strong><a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "app=members&amp;module=warn&amp;section=warn&amp;do=view&amp;mid={$author['member_id']}", "public",'' ), "", "" ) . "' id='warn_link_{$contentid}_{$author['member_id']}' title='{$this->lang->words['warn_view_history']}' class='warn_link'>{$this->lang->words['warn_status']}</a></strong>
				" . (($author['warn_percent'] >= 80) ? ("
					<p class='progress_bar user_warn limit' title='{$this->lang->words['warn_level']} {$author['warn_percent']}%'>
				") : ("
					<p class='progress_bar user_warn' title='{$this->lang->words['warn_level']} {$author['warn_percent']}%'>
				")) . "
					<span style='width: {$author['warn_percent']}%'><span>{$this->lang->words['warn_level']} {$author['warn_percent']}%</span></span>
				</p>")) . "
		</div>") : ("")) . "";
return $IPBHTML;
}


function __f__3683dba086786ecdf8795cdc785780e8($author, $contentid, $options,$group='',$data='')
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $author['custom_fields'][ $group ] as $field )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
					" . (($field != '') ? ("
						<li>
							{$field}
						</li>
					") : ("")) . "
				
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

function __f__9dcb10bbb3b2bd8ee72ba3db8b2ce635($author, $contentid, $options)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( $author['custom_fields'] as $group => $data )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
				".$this->__f__3683dba086786ecdf8795cdc785780e8($author,$contentid,$options,$group,$data)."			
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}

/* -- userSmallPhoto --*/
function userSmallPhoto($member=array()) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_global', $this->_funcHooks['userSmallPhoto'] ) )
{
$count_c0c3f614fea2a70c7ccf836e1b1c2b1f = is_array($this->functionData['userSmallPhoto']) ? count($this->functionData['userSmallPhoto']) : 0;
$this->functionData['userSmallPhoto'][$count_c0c3f614fea2a70c7ccf836e1b1c2b1f]['member'] = $member;
}
$IPBHTML .= "" . (($member['member_id'] && ( $this->memberData['g_is_supmod'] || ($this->memberData['g_mem_info'] && ! IPSMember::isInactive($member) ) )) ? ("
	<a href='" . $this->registry->getClass('output')->formatUrl( $this->registry->getClass('output')->buildUrl( "showuser={$member['member_id']}", "public",'' ), "{$member['members_seo_name']}", "showuser" ) . "' class='ipsUserPhotoLink left'>
") : ("
	<div class='left'>
")) . "
" . (($member['member_id']) ? ("<img src='{$member['pp_small_photo']}' alt='" . (($member['alt']) ? ("{$member['alt']}") : ("{$this->lang->words['photo']}")) . "' class='ipsUserPhoto " . ((empty($member['_customClass'])) ? ("ipsUserPhoto_mini") : ("{$member['_customClass']}")) . "' />") : ("
	" . IPSMember::buildNoPhoto(0, 'mini' ) . "
")) . "
" . (($member['member_id'] && ( $this->memberData['g_is_supmod'] || ($this->memberData['g_mem_info'] && ! IPSMember::isInactive($member) ) )) ? ("
	</a>
") : ("
	</div>
")) . "";
return $IPBHTML;
}

/* -- warnDetails --*/
function warnDetails($warning, $canSeeModNote) {
$IPBHTML = "";
if( IPSLib::locationHasHooks( 'skin_global', $this->_funcHooks['warnDetails'] ) )
{
$count_dec10b66454f22ddfd510aa5da1e9a47 = is_array($this->functionData['warnDetails']) ? count($this->functionData['warnDetails']) : 0;
$this->functionData['warnDetails'][$count_dec10b66454f22ddfd510aa5da1e9a47]['warning'] = $warning;
$this->functionData['warnDetails'][$count_dec10b66454f22ddfd510aa5da1e9a47]['canSeeModNote'] = $canSeeModNote;
}
$IPBHTML .= "<h3>{$this->lang->words['warnings_details']}</h3>
<div class='ipsBox'>
	<p class='message unspecific'>
		" . (($warning['wl_reason']) ? ("" . (($warning['content']) ? ("
				" . sprintf( $this->lang->words['warning_blurb_yy'], "" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($warning['wl_moderator']) : '' ) . "", $warning['wl_reason'], $warning['content'] ) . "
			") : ("
				" . sprintf( $this->lang->words['warning_blurb_yn'], "" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($warning['wl_moderator']) : '' ) . "", $warning['wl_reason'] ) . "
			")) . "") : ("" . (($warning['content']) ? ("
				" . sprintf( $this->lang->words['warning_blurb_ny'], "" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($warning['wl_moderator']) : '' ) . "", $warning['content'] ) . "
			") : ("
				" . sprintf( $this->lang->words['warning_blurb_nn'], "" . ( method_exists( $this->registry->getClass('output')->getTemplate('global'), 'userHoverCard' ) ? $this->registry->getClass('output')->getTemplate('global')->userHoverCard($warning['wl_moderator']) : '' ) . "" ) . "
			")) . "")) . "
		<br />
		" . ((!$warning['wl_points'] and !$warning['wl_mq'] and !$warning['wl_rpa'] and !$warning['wl_suspend']) ? ("
			{$this->lang->words['warnings_verbal_only']}
		") : ("" . (($warning['wl_points']) ? ("" . (($warning['wl_expire']) ? ("" . (($warning['wl_expire_date']) ? ("
						" . sprintf( $this->lang->words['warnings_given_points_expire'], $warning['wl_points'], $this->lang->getDate( $warning['wl_expire_date'], 'SHORT' ) ) . "<br />
					") : ("
						" . sprintf( $this->lang->words['warnings_given_points_expired'], $warning['wl_points'] ) . "<br />
					")) . "") : ("
					" . sprintf( $this->lang->words['warnings_given_points'], $warning['wl_points'] ) . "<br />
				")) . "") : ("")) . "
			".$this->__f__bcced472e2c5e8f6bfa90e2e0542db34($warning,$canSeeModNote)."")) . "
	</p>
	" . (($canSeeModNote and $warning['wl_note_mods']) ? ("<div class='ipsBox_container ipsPad'>
			<strong>{$this->lang->words['warnings_note_member']}</strong>
			<br /><br />
			" . (($warning['wl_note_member']) ? ("
				{$warning['wl_note_member']}
			") : ("
				<em>{$this->lang->words['warnings_no_note']}</em>
			")) . "
		</div>
		<div class='ipsBox_container ipsPad'>
			<strong>{$this->lang->words['warnings_note_mods']}</strong>
			<br /><br />
			{$warning['wl_note_mods']}
		</div>") : ("<div class='ipsBox_container ipsPad'>
			" . (($warning['wl_note_member']) ? ("
				{$warning['wl_note_member']}
			") : ("
				<em>{$this->lang->words['warnings_no_note']}</em>
			")) . "
		</div>")) . "
</div>";
return $IPBHTML;
}


function __f__bcced472e2c5e8f6bfa90e2e0542db34($warning, $canSeeModNote)
{
	$_ips___x_retval = '';
	$__iteratorCount = 0;
	foreach( array( 'mq', 'rpa', 'suspend' ) as $k )
	{
		
		$__iteratorCount++;
		$_ips___x_retval .= "
				" . (($warning[ 'wl_' . $k ]) ? ("" . (($warning[ 'wl_' . $k ] == -1) ? ("
						" . sprintf( $this->lang->words[ 'warnings_' . $k ], $this->lang->words['warnings_permanently'] ) . "<br />
					") : ("
						" . sprintf( $this->lang->words[ 'warnings_' . $k ], sprintf( $this->lang->words['warnings_for'], $warning[ 'wl_' . $k ], $this->lang->words[ 'warnings_time_' . $warning[ 'wl_' . $k . '_unit' ] ] ) ) . "<br />
					")) . "") : ("")) . "
			
";
	}
	$_ips___x_retval .= '';
	unset( $__iteratorCount );
	return $_ips___x_retval;
}


}


/*--------------------------------------------------*/
/* END OF FILE                                      */
/*--------------------------------------------------*/

?>